    document.addEventListener('DOMContentLoaded', function () {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const delay = parseInt(entry.target.dataset.delay || 0, 10);
                        setTimeout(() => { entry.target.classList.add('animate'); }, delay);
                    }
                });
            }, { threshold: 0.1, rootMargin: '0px 0px -50px 0px' });
            document.querySelectorAll('[data-animate]').forEach(el => observer.observe(el));

            // counters
            function animateCounter(el) {
                const target = parseInt(String(el.dataset.counter).replace(/\D/g, ''), 10) || 0;
                const duration = 1600, step = Math.max(1, Math.floor(target / (duration / 16)));
                let cur = 0;
                const t = setInterval(() => {
                    cur += step;
                    if (cur >= target) { cur = target; clearInterval(t); }
                    const suffix = /\+$/.test(el.textContent.trim()) ? '+' : '';
                    el.textContent = cur + suffix;
                }, 16);
            }
            const counterObs = new IntersectionObserver((entries) => {
                entries.forEach(e => { if (e.isIntersecting) { animateCounter(e.target); counterObs.unobserve(e.target); } });
            });
            document.querySelectorAll('[data-counter]').forEach(el => counterObs.observe(el));

            // carousel
            let current = 0;
            const slides = [...document.querySelectorAll('.carousel-slide')];
            const dots = [...document.querySelectorAll('.dot')];
            const prev = document.querySelector('.prev-btn');
            const next = document.querySelector('.next-btn');

            function show(i) {
                slides.forEach(s => s.classList.remove('active'));
                dots.forEach(d => d.classList.remove('active'));
                current = (i + slides.length) % slides.length;
                slides[current].classList.add('active'); dots[current].classList.add('active');
            }
            prev.addEventListener('click', () => show(current - 1));
            next.addEventListener('click', () => show(current + 1));
            dots.forEach((d, i) => d.addEventListener('click', () => show(i)));
            let auto = setInterval(() => show(current + 1), 6000);
            const wrap = document.querySelector('.content-carousel');
            wrap.addEventListener('mouseenter', () => clearInterval(auto));
            wrap.addEventListener('mouseleave', () => { auto = setInterval(() => show(current + 1), 6000); });

            // org nodes ripple/focus
            document.querySelectorAll('.org-node').forEach((node) => {
                node.addEventListener('click', () => {
                    document.querySelectorAll('.org-node').forEach(n => n.classList.remove('active'));
                    node.classList.add('active');
                    const r = document.createElement('div'); r.className = 'ripple-effect'; node.appendChild(r);
                    setTimeout(() => r.remove(), 600);
                });
                node.addEventListener('keydown', (e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); node.click(); } });
            });

            // smooth internal anchors
            document.querySelectorAll('a[href^="#"]').forEach(a => {
                a.addEventListener('click', e => {
                    const t = document.querySelector(a.getAttribute('href')); if (!t) return;
                    e.preventDefault(); t.scrollIntoView({ behavior: 'smooth', block: 'start' });
                });
            });
        });