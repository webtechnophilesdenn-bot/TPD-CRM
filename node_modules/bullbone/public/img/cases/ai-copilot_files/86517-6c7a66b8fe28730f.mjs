(self.modernJsonp=self.modernJsonp||[]).push([["86517"],{457636:function(e,t,n){n.d(t,{KJ:()=>d,Rp:()=>s});let r={merchant_catalogs_data_sources:{id:228,name:"merchant_catalogs_data_sources_user_nav"},merchant_catalogs_listings:{id:230,name:"merchant_catalogs_listings_user_nav"},merchant_catalogs_product_groups:{id:229,name:"merchant_catalogs_product_groups_user_nav"},own_profile:{id:14,name:"own_profile"},own_profile_no_pins:{id:45,name:"own_profile_no_pins"},other_profile:{id:15,name:"other_profile"},other_profile_no_pins:{id:46,name:"other_profile_no_pins"},sterling_ads_edit:{id:225,name:"sterling_edit_flow_user_nav"},sterling_reporting_overview:{id:226,name:"sterling_reporting_overview_user_nav"}},i={initial_app_load:{unauth:{board:{id:114,name:"board_page_interactive"},pin_closeup:{id:113,name:"pin_page_interactive"},other_profile:{id:115,name:"user_page_interactive"},topic:{id:119,name:"topic_page_interactive"},sterling_signup:{id:201,name:"sterling_signup_main_pageload"},sterling_login:{id:202,name:"sterling_login_main_pageload"}},auth:{bizhub:{id:607,name:"bizhub_pinteractive"},homefeed:{id:19,name:"home_feed_pinteractive"},own_profile:{id:123,name:"own_profile_page_load"},own_profile_no_pins:{id:125,name:"own_profile_no_pins_page_load"},other_profile:{id:122,name:"other_profile_page_load"},other_profile_no_pins:{id:124,name:"other_profile_no_pins_page_load"},self_profile:{id:126,name:"self_profile_page_load"},sterling_reporting_overview:{id:219,name:"sterling_reporting_overview_pageload"},sterling_ads_create:{id:221,name:"sterling_adscreate_main_pageload"},sterling_ads_duplicate:{id:206,name:"sterling_adsduplication_main_pageload"},sterling_ads_edit:{id:204,name:"sterling_adsedit_main_pageload"},sterling_billing_profile:{id:203,name:"sterling_billingprofile_main_pageload"},sterling_bulk_editor:{id:205,name:"sterling_bulkeditor_main_pageload"},sterling_bulk_editor_history:{id:231,name:"sterling_bulkeditor_history_pageload"},sterling_pin_builder:{id:222,name:"sterling_adscreate_pinbuilder_pageload"},sterling_recommendations:{id:223,name:"sterling_recommendations_pageload"},sterling_reporting_details:{id:218,name:"sterling_reporting_details_pageload"}}},client_route_push:{unauth:{},auth:{...r,bizhub:{id:608,name:"bizhub_page_render"},homefeed:{id:2,name:"home_feed_render"},search:{id:3,name:"search_feed_render"},search_tab:{id:25,name:"search_tab_render"},related_feed:{id:51,name:"related_feed"},related_feed_pageload:{id:127,name:"related_feed_pageload"},nux_pin_picker_feed_render:{id:49,name:"nux_pin_picker_feed_render"},self_profile:{id:47,name:"self_profile"},pin_closeup:{id:13,name:"pin_closeup_details"},sterling_audiences:{id:224,name:"sterling_audiences_page_user_nav"},sterling_bulk_editor_history:{id:232,name:"sterling_bulkeditor_history_user_nav"},sterling_reporting_details:{id:227,name:"sterling_reporting_details_user_nav"},visual_search:{id:44,name:"visual_search_page_render"}}},client_route_replace:{unauth:{},auth:{...r}}},a={initial_app_load:{auth:{pin_closeup:{product_detail_page:{id:120,name:"product_details_interactive"},product_detail_page_plus:{id:121,name:"product_details_plus_interactive"}}}},client_route_push:{auth:{pin_closeup:{story_pin:{id:700,name:"story_pin_closeup"},product_detail_page:{id:37,name:"product_details_render"},product_detail_page_plus:{id:38,name:"product_details_plus_render"}}}},client_route_replace:{auth:{pin_closeup:{product_detail_page:{id:37,name:"product_details_render"},product_detail_page_plus:{id:38,name:"product_details_plus_render"}}}}},o={board_picker:16,grid_bottom_spinner:12,facebook_autologin:500,google_autologin:501,story_pin_step:701,nux_pin_picker_feed_render:49,related_feed:51,pin_selection_pageload:236,pin_selection_search:237,pin_selection_board:238},l=e=>{let{navigationType:t,isAuthenticated:n,segment:r,surface:o}=e,l=n?"auth":"unauth",s=a[t]?.[l]?.[o];return r&&s&&s[r]||i[t][l][o]},s=e=>{if("stopwatch"===e.type&&"name"in e)return o[e.name]||null;if("surface"===e.type){let t=l(e);return t?t.id:null}return null},d=e=>{if("stopwatch"===e.type&&"name"in e||"core_web_vitals"===e.type&&"name"in e)return e.name;let{navigationType:t,isAuthenticated:n,segment:r,surface:i}=e,a=l(e);return a?a.name:`${t}_${n?"auth":"unauth"}_${i}${r?"_"+r:""}`}},579358:function(e,t,n){n.d(t,{F9:()=>d,LM:()=>s,VZ:()=>a,cQ:()=>p,rZ:()=>o});var r=n(210811),i=n(901360);let a=()=>"number"==typeof window.innerHeight&&"number"==typeof window.pageYOffset&&!!document.querySelector&&!!document.querySelectorAll,o=e=>e instanceof HTMLDivElement||e instanceof HTMLVideoElement?e.getBoundingClientRect():e.parentElement instanceof HTMLElement?e.parentElement.getBoundingClientRect():null,l=e=>{if(e instanceof HTMLImageElement)return e.src;if(e instanceof HTMLVideoElement)return e.attributes.poster.value;let t=((e.style||{}).backgroundImage||"").match(/^url\(["'](.*)["']\)$/);return t&&t[1]||null},s=()=>document.querySelector?document.querySelectorAll(r.wc).length:((0,i.H)("missing_document_query_selector"),0),d=()=>{let e=(()=>{if(!document.querySelector)return(0,i.H)("missing_document_query_selector"),null;let e=document.querySelectorAll(r.wc);return e[e.length-1]||null})();if(!e)return!1;let t=window.innerHeight||0,n=window.pageYOffset||0;return e.getBoundingClientRect().top+n>=t},p=(e,t,n)=>{if(!document.querySelector)return(0,i.H)("missing_document_query_selector"),[];let a={foldY:window.innerHeight||0,pageYOffset:window.pageYOffset||0},s=[r.Wf,...e?[r.fF]:[],...t?[r.$N]:[]].join(","),d=[...document.querySelectorAll(s)];if(n){let e=[...document.querySelectorAll('div[data-test-id="board-section"]')],t=e=>{let n=[...e.children];!n.length&&e.style.backgroundImage?d.push(e):n.length&&n.forEach(e=>{t(e)})};e.forEach(e=>{t(e)})}return d.reduce((e,n)=>{if((n instanceof HTMLImageElement||n instanceof HTMLDivElement||n instanceof HTMLVideoElement&&t)&&((e,t)=>{let n=o(e);if(!n)return(0,i.H)("missing_client_rect"),!1;if(n.width<70&&n.height<70){if(e instanceof HTMLImageElement)return!1;let t=l(e);if(t?.endsWith("svg"))return!1}return(({top:e,height:t},{foldY:n,pageYOffset:r})=>{let i=e+r;if(i>=n)return!1;let a=Math.min(t,n-i);return a>.5*t||a>.2*n})(n,t)})(n,a)){let t=l(n);if(t){let r=(t||"").replace(/.*\//,"");return e.concat([{element:n,fileName:r}])}}return e},[])}},210811:function(e,t,n){n.d(t,{$N:()=>s,Kb:()=>r,Wf:()=>o,fF:()=>l,wc:()=>a});let r="pwt-grid-item",i=['div[data-grid-item="true"]',"div.Grid__Item",`div[data-test-id="${r}"]`],a=i.join(","),o=i.map(e=>`${e} img`).join(","),l=i.map(e=>`${e} div[style*=background-image]`).join(","),s=i.map(e=>`${e} video`).join(",")},576746:function(e,t,n){n.d(t,{cC:()=>a,jy:()=>i,qr:()=>l,sk:()=>o});let r=e=>"number"==typeof e?Math.round(e):e,i=e=>({type:"I16",value:r(e)}),a=e=>({type:"I32",value:r(e)}),o=e=>({type:"STRING",value:e}),l=e=>({type:"BOOL",value:e})},703393:function(e,t,n){n.d(t,{W:()=>S,N:()=>w});var r=n(392824),i=n(645214),a=n(788725),o=n(979817),l=n(498724),s=n(524447);let d=(e,t)=>Object.keys(t).reduce((n,r)=>({...n,[`${e}${r}`]:t[r]}),{});var p=n(375730),c=n(603316);let u=["client-","vendor-react-","index-","runtime-","locale-"],_=(e,t,n)=>{"number"==typeof t&&Number.isFinite(t)&&!(t<0)&&(0,c.LY)(e,t,n)},m=(e,t,n)=>{"number"==typeof t&&Number.isFinite(t)&&!(t<0)&&(0,c.S0)(e,t,n)},f=["PinResource","UserHomefeedResource","BaseSearchResource","BoardResource","UserResource","BoardFeedResource","runtime-","polyfills-","locale-","vendor-react-","vendor-react-","client-","index-","AuthDesktopHeader","StructuredFeed","[id]-","[scope]-","[username]-","CloseupActionBarCommon-","SaveAffordance-"],g=({eventPrefix:e,endTime:t,tags:n,resourceArr:r,resourceType:i="allResources"})=>{let a=r.length;if("object"==typeof r[0]&&!Array.isArray(r[0])&&0!==a){if(u.includes(i)){let t=r[0],a={...n,swIntercepted:t.workerStart>0,workerFinalSourceType:t.workerFinalSourceType||"unknown"};_(`${e}.app_start_script_${i.replace("-","")}.InFlight`,t.fetchStart,{tags:a}),_(`${e}.app_start_script_${i.replace("-","")}.Complete`,t.responseEnd,{tags:a})}if(f.includes(i)){let t=r[0];_(`${e}.critical_resource_${i.replace("-","")}.InFlight`,t.fetchStart,{tags:n}),_(`${e}.critical_resource_${i.replace("-","")}.Complete`,t.responseEnd,{tags:n})}else{let o=[...r].sort((e,t)=>e.fetchStart-t.fetchStart),l=[...r].sort((e,t)=>e.responseEnd-t.responseEnd),s=1,d=t/5,p=0;for(;s<=5;){let t=0;for(;p<=a-1&&o[p].fetchStart<=d*s;)p+=1,t+=1;m(`${e}.${i}.fetchStartInterval${s}of5`,t,{sampleRate:.2}),s+=1}let c={InFlightP0:o[0].fetchStart,InFlightP25:o[Math.floor(a/4)].fetchStart,InFlightP50:o[2*Math.floor(a/4)].fetchStart,InFlightP75:o[3*Math.floor(a/4)].fetchStart,InFlightP100:o[a-1].fetchStart,CompleteP25:l[Math.floor(a/4)].responseEnd,CompleteP50:l[2*Math.floor(a/4)].responseEnd,CompleteP75:l[3*Math.floor(a/4)].responseEnd,CompleteP100:l[a-1].responseEnd};for(let t in c)c[t]&&_(`${e}.${i}.${t}`,c[t],{tags:n})}}};var h=n(970773),y=n(293169);let v=({type:e,annotateExperiments:t,annotations:n,binaryAnnotations:c,constraintMap:_,endTime:m,imageTimings:v,isV4Logger:S,metricId:w,pwtStaticContext:E,startTime:T,traceId:k,spans:b})=>{let C,$=(0,y.Cg)();"initial_app_load"===w.navigationType&&(C=(0,a.Z)());let M=v.map(({name:e})=>e),A=$.map(e=>(0,o.p)(e,M)).filter(({timing:e})=>!(({startTime:e,responseEnd:t},n)=>e>n.endTime||!!t&&t<n.startTime)(e,{startTime:T,endTime:m})),I=((0,r.E3)()||[]).map(e=>({name:e.name,id:(0,h.Z)(),parentId:k,startTime:e.startTime||T,endTime:e.endTime,annotationMap:{},binaryAnnotationMap:{}})).filter(e=>!(({startTime:e,endTime:t},n)=>e>n.endTime||!!t&&t<n.startTime)(e,{startTime:T,endTime:m}));return .2>Math.random()&&(({annotateExperiments:e,endTime:t,entries:n,metricId:r,pwtStaticContext:i})=>{if("undefined"!=typeof document&&"hidden"===document.visibilityState)return;let{isAuthenticated:a,isBot:o,isSocialBot:l,deviceType:s}=i,d=`${l&&"socialBot"||o&&"bot"||"nonbot"}.${s}.${r.surface}`,p=[d];e&&[...new Set(e)].forEach(e=>{let t=i.getExperimentGroup(e);t&&p.push(`${d}.experiment.${e}.${t}`)});let c={isAuthenticated:a,navigationType:r.navigationType,startType:i.startType},_=Array.from(n.filter(e=>"number"==typeof e.encodedBodySize&&("xmlhttprequest"===e.initiatorType&&e.encodedBodySize>=1e3||e.encodedBodySize>=1e4)&&e.responseEnd<=t)),m={img:[],css:[],script:[],xmlhttprequest:[],preloadedImages:[]};_.forEach(e=>{if("link"===e.initiatorType&&e.name.includes("i.pinimg.com"))m.preloadedImages=[...m.preloadedImages||[],e];else if(e.initiatorType in m){let t=e.initiatorType;m[t]=[...m[t]||[],e];let n=f.find(t=>e.name.includes(t));n&&(m[n]=[e]);let r=u.find(t=>e.name.includes(t));r&&(m[r]=[e])}}),p.forEach(e=>{g({eventPrefix:e,endTime:t,tags:c,resourceArr:_}),Object.entries(m).forEach(([n,r])=>{g({eventPrefix:e,endTime:t,tags:c,resourceArr:r,resourceType:n})})})})({annotateExperiments:t,endTime:m,entries:$,metricId:w,pwtStaticContext:E}),{traceId:k,startTime:T,endTime:m,spans:[...A.map(e=>(0,p.Z)(e,k)).filter(Boolean),...I].concat(b),annotationMap:(({constraintMap:e,initialNavTiming:t,annotations:n})=>({...n,...d("constraint_",e),...d("mark_",(0,r.gQ)()),...d("browser_",{...t?{...(0,l.Z)(t),domComplete:t.domComplete||0,domContentLoadedEventStart:t.domContentLoadedEventStart||0,domInteractive:t.domInteractive||0,workerStart:t.workerStart||0}:{},...(()=>{let{largestContentfulPaint:e}=(0,s.v2)();return{largestContentfulPaint:e||0}})()})}))({constraintMap:_,initialNavTiming:C,annotations:n}),binaryAnnotationMap:(0,i.rA)({initialNavTiming:C||{},type:e,annotateExperiments:t,binaryAnnotations:c,entries:$,isV4Logger:S,metricId:w,performanceResources:A,pwtEndTime:m,pwtStaticContext:E})}},S=({annotateExperiments:e,annotations:t,binaryAnnotations:n,constraintMap:r,endTime:i,imageTimings:a,isV4Logger:o=!1,metricId:l,pwtStaticContext:s,startTime:d,traceId:p,spans:c})=>({type:"COMPLETE",...v({type:"COMPLETE",annotateExperiments:e,annotations:t,binaryAnnotations:n,constraintMap:r,endTime:i,imageTimings:a,isV4Logger:o,metricId:l,pwtStaticContext:s,startTime:d,traceId:p,spans:c})}),w=({reason:e,annotateExperiments:t,annotations:n,binaryAnnotations:r,constraintMap:i,endTime:a,imageTimings:o,isV4Logger:l=!1,metricId:s,pwtStaticContext:d,startTime:p,traceId:c,spans:u})=>({type:"ABORT",reason:e,...v({type:"ABORT",annotateExperiments:t,annotations:n,binaryAnnotations:r,constraintMap:i,endTime:a,imageTimings:o,isV4Logger:l,metricId:s,pwtStaticContext:d,startTime:p,traceId:c,spans:u})})},645214:function(e,t,n){n.d(t,{E9:()=>c,ng:()=>g,rA:()=>h});var r=n(939672),i=n(457636),a=n(392824),o=n(576746),l=n(524447),s=n(293169),d=n(458757),p=n(112114);let c=(e,t)=>(e||[]).reduce((e,n)=>{let r=t(n);return r?{...e,[`experiment.${n}`]:(0,o.sk)(r)}:e},{}),u=(e,t)=>"number"==typeof t?e(t):null,_=e=>Number(Number(e/1024).toFixed(3)),m=e=>e.reduce((e,t)=>e+t,0),f=(e,t,n,r,a)=>{let l,{devicePixelRatio:p,navigator:c,innerWidth:_,innerHeight:m,performance:f}=window,{deviceMemory:g,hardwareConcurrency:h,platform:y,userAgent:v,connection:S}=c,{memory:w}=f,{appType:E,appVersion:T,browserName:k,browserVersion:b,deviceType:C,hasActiveServiceWorker:$,isAppShell:M,isAuthenticated:A,isBot:I,isSocialBot:x,locale:R,osName:q,stageName:L,startType:P,unauthId:H}=t,{navigationType:z}=e,B=null;if("initial_app_load"===z){l=1;let e=(0,d.Z)("navigation")[0]?.transferSize;B=e?parseFloat((.001*e).toFixed(1)):null}else l=4;let j={"app.type":(0,o.jy)("desktop"===C?E||5:E||6),"app.version":(0,o.sk)(T),"browser.name":(0,o.sk)(k),"browser.version":(0,o.sk)(b),"cpu.speed":(0,o.jy)(h),"device.memory":(0,o.jy)(g),"device.type":(0,o.jy)(0),"device.typeName":(0,o.sk)(C),"device.version":(0,o.sk)("unknown"),"pwt.cause":(0,o.jy)(l),"net.effectiveType":(0,o.sk)(S?.effectiveType||null),"net.downlink":(0,o.cC)(u(e=>10*Math.round(e/10),S?.downlink)),"net.downlinkMax":(0,o.cC)(u(e=>10*Math.round(e/10),S?.downlinkMax)),"net.rtt":(0,o.cC)(u(e=>10*Math.round(e/10),S?.rtt)),"net.speed":(0,o.cC)((0,s.Hv)(n,!1)),"pwt.result":(0,o.jy)("COMPLETE"===r?1:2),"view.type":(0,o.cC)(0),"viewport.height":(0,o.cC)(m||0),"viewport.width":(0,o.cC)(_||0),devicePixelRatio:(0,o.cC)(p||0),hasActiveServiceWorker:(0,o.qr)($),isAppShell:(0,o.qr)(M),isAuthenticated:(0,o.qr)(A),isBot:(0,o.qr)(I),isSocialBot:(0,o.qr)(x),locale:(0,o.sk)(R),osName:(0,o.sk)(q),...null!==B&&{htmlResponseSize:(0,o.cC)(B)},nextHopProtocol:(0,o.sk)((0,d.Z)("navigation")[0]?.nextHopProtocol||null),platform:(0,o.sk)(y||null),profilerVersion:a?(0,o.sk)("4"):(0,o.sk)("3"),pwtActionName:a&&"id"in e?(0,o.jy)(e.id):(0,o.jy)((0,i.Rp)(e)),stageName:(0,o.sk)(L),startType:(0,o.sk)(P||""),userAgent:(0,o.sk)(v),usedJSHeapSize:(0,o.cC)(w?.usedJSHeapSize||0),totalJSHeapSize:(0,o.cC)(w?.totalJSHeapSize||0),jsHeapSizeLimit:(0,o.cC)(w?.jsHeapSizeLimit||0)};return A?j:{...j,unauthId:(0,o.sk)(H)}},g=({annotateExperiments:e,metricId:t,pwtStaticContext:n,binaryAnnotations:r={},performanceResourceTimings:i=[],type:a})=>({...c(e,n.getExperimentGroup),...f(t,n,i,a),...r,stopwatchVersion:(0,o.jy)(1)}),h=({type:e,annotateExperiments:t,binaryAnnotations:n={},entries:i,isV4Logger:s,metricId:d,performanceResources:u,pwtEndTime:g,pwtStaticContext:h,initialNavTiming:y})=>({...n,...(e=>{let t={script_deferred:[],external:[],visually_complete:[],script:[],css:[],video:[],image:[],xmlhttprequest:[],other:[]};return e.length&&e.forEach(e=>{let{timing:n}=e;t[e.category]=[...t[e.category]??[],n],e.isDeferred&&(t.script_deferred=[...t.script_deferred??[],n]),e.isExternal&&(t.external=[...t.external??[],n]),e.isVisuallyCompleteRequired&&(t.visually_complete=[...t.visually_complete??[],n])}),{...Object.keys(t).reduce((e,n)=>{let r,i;return{...e,...(r=`resource.${n}.`,Object.keys(i=(e=>{let t=e.filter(e=>!!e.responseEnd);return{...e.length?{...(e=>{if(!e.length)return{};let t=e.map(({startTime:e,requestStart:t,responseStart:n,responseEnd:r})=>{let i=t||e;return{startTime:e,requestStart:i,responseStart:n||i,responseEnd:r}}),n=m(t.map(e=>e.requestStart-e.startTime)),r=m(t.map(e=>e.responseStart-e.requestStart)),i=m(t.map(e=>e.responseEnd-e.responseStart)),a=m(e.map(e=>e.decodedBodySize||0)),l=m(e.map(e=>e.encodedBodySize||0)),s=m(e.map(e=>e.transferSize||0));return{decodedBodySize:(0,o.cC)(_(a)),encodedBodySize:(0,o.cC)(_(l)),transferSize:(0,o.cC)(_(s)),"duration.all":(0,o.cC)(n+r+i),"duration.requestStartToResponseStart":(0,o.cC)(r),"duration.responseStartToResponseEnd":(0,o.cC)(i),"duration.startToRequestStart":(0,o.cC)(n)}})(t),"count.completed":(0,o.cC)(t.length)}:{},"count.all":(0,o.cC)(e.length)}})(t[n])).reduce((e,t)=>({...e,[`${r}${t}`]:i[t]}),{}))}},{})}})(u),...c(t,h.getExperimentGroup),...f(d,h,i,e,s),...((e,t)=>{let{navigator:n}=window,{serviceWorker:r}=n,{surface:i,navigationType:s,isAuthenticated:d}=e,{cumulativeLayoutShiftScore:p,longTaskDurations:c}=(0,l.v2)();return{...c.length?{"longTask.count":(0,o.cC)(c.length),"longTask.maxDuration":(0,o.cC)(Math.max(...c)),"longTask.totalDuration":(0,o.cC)(m(c))}:{},cumulativeLayoutShiftScore:(0,o.cC)(100*p),"masonry.paginationMarkCount":(0,o.cC)((0,a.Ao)(a.at,t)),"metricId.isAuthenticated":(0,o.qr)(d),"metricId.navigationType":(0,o.sk)(s),"metricId.surface":(0,o.sk)(i),resourceBufferClearedCount:(0,o.jy)((0,a.Ao)("resourceBufferCleared",t)),scrollDuringLayout:(0,o.qr)((0,a.BA)("scrollDuringLayout",t)),serviceWorker:(0,o.qr)(r?!!r.controller:null),serviceWorkerState:(0,o.sk)(r?.controller?.state||null)}})(d,g),...y?{"navTiming.workerFinalSourceType":(0,o.sk)(y.workerFinalSourceType||null),"navTiming.workerMatchedSourceType":(0,o.sk)(y.workerMatchedSourceType||null)}:{},...((e,t)=>{if(!["HOME_FEED_PINTERACTIVE","HOME_FEED_RENDER","initial_page_load_auth_pin","PIN_CLOSEUP_DETAILS","STORY_PIN_CLOSEUP","PIN_PAGE_INTERACTIVE","client_route_push_unauth_pin"].includes(e.surface))return{};let n=(0,p.H)()??"",i=(0,r.$A)(n);if(!i)return{};let a={},{info:l}=console;return Object.keys(i).forEach(e=>{i[e]&&(a[`renderMetricsCount.${e}`]=(0,o.cC)(i[e].renderCount),a[`renderMetricsTiming.${e}`]=(0,o.cC)(100*i[e].totalRenderTime))}),"enabled"===t("perf_profiler_logs")&&l(`RPM - PWT Complete [${e.surface}], binary annotations:`,a),(0,r._J)(n),a})(d,h.getExperimentGroup)})},788725:function(e,t,n){n.d(t,{Z:()=>i});var r=n(361423);let i=()=>{let[e]=r.Z?r.Z.getEntriesByType("navigation"):[];return e}},979817:function(e,t,n){n.d(t,{i:()=>r,p:()=>i});let r=({name:e,initiatorType:t})=>{switch(t){case"xmlhttprequest":return"xmlhttprequest";case"img":return"image";case"video":return"video";default:{let t=e.split("."),n=(t.length>1&&t.pop()||"").toLowerCase();if(["js","mjs"].includes(n))return"script";if("css"===n)return"css";if(["mp4","m4v","mov","ts","m3u8"].includes(n))return"video";if(["bmp","gif","jpg","jpeg","webp","tiff","webp","svg"].includes(n))return"image";return"other"}}},i=(e,t)=>{let n=r(e),{name:i}=e;return{category:n,isDeferred:"script"===n&&(e=>{let t=e.replace(RegExp(`^${window.location.origin||""}`),""),n=document&&document.querySelector(`script[src='${t}']`);return!!n&&n.hasAttribute("defer")})(i),isExternal:["pinimg","pinterest","pinterdev"].every(e=>!i.includes(`${e}`)),isVisuallyCompleteRequired:"image"===n&&t.includes(i),timing:e}}},868178:function(e,t,n){n.d(t,{C:()=>h,Z:()=>y});var r=n(382594),i=n(599197),a=n(457636),o=n(592109),l=n(901360);let s=null;var d=n(576746),p=n(788725),c=n(970773),u=n(458757);let _=({span:e,timeOrigin:t})=>{let n,r;return{id:e.id,parent_id:e.parentId||null,result:1,name:e.name,timestamp:t+e.startTime,duration:e.endTime-e.startTime,annotations:Object.keys(n=e.annotationMap).reduce((e,r)=>{let i=n[r];return i?{...e,[r]:{timestamp:t+i}}:e},{}),binary_annotations:Object.keys(r=e.binaryAnnotationMap).reduce((e,t)=>{let n=r[t];if(!n)return e;let{value:i,type:a}=n;return null==i?e:e.concat({name:t,value:i,annotation_type:a})},[])}},m=(e,t)=>({...e,annotations:{...(({annotations:e})=>e.reduce((e,{key:t,timestamp:n})=>({...e,[`server_${t}`]:{timestamp:n}}),{}))(t),...e.annotations},binary_annotations:[...t.binary_annotations,...e.binary_annotations]});var f=n(603316);let g=(0,o.XV)("reportResult"),h=({resultReason:e,resultLog:t,annotateExperiments:n,getExperimentGroup:r,options:i})=>{[...new Set(n)].forEach(n=>{let a=r(n),o=e?t.concat(`.${e}`):t;if(a){let e=`.experiment.${n}.${a}`;(0,l.A9)(`${o}${e}`,i)}})};function y({metricId:e,pwtStaticContext:t,result:n,isAuth:o,isV4Logger:y=!1,annotateExperiments:v}){let S,{serverData:w}=t;if(y){let{surface:t}=e;S=t}else S=(0,a.KJ)(e);let E=`${n.type}.${S}`,T=void 0!==o&&{tags:{isAuth:o}}||void 0;(0,l.A9)(n.reason?E.concat(`.${n.reason}`):E,T),v&&h({resultReason:n.reason,resultLog:E,annotateExperiments:v,getExperimentGroup:t.getExperimentGroup,options:T});let k=`${n.type}.${S}`;i.is||((0,f.S0)(`${k}.spans`,n.spans.length,{sampleRate:1}),(0,f.S0)(`${k}.annotations`,Object.keys(n.annotationMap).length,{sampleRate:1})),"COMPLETE"!==n.type&&g(`Abort metric ${S}`,n);let b=window.performance?.now?Date.now()-window.performance.now():"unknown";if("unknown"===b){g(`Unable to convert to absolute times for ${S} due to missing time origin`),(0,l.A9)(`missingTimeOrigin.${S}`,T);return}if(i.is&&(window.PWT_LAB_DATA=((s=s||{results:[],context:t}).results.push(n),s)),n.spans.length&&(n.spans=n.spans.map(e=>(e.parentId||e.id===n.traceId||"network_resources"===e.name||(e.parentId=n.traceId),e))),!i.is){let a=e.navigationType&&"initial_app_load"===e.navigationType,{traceId:o}=n,l=JSON.stringify((({traceId:e,actionName:t,result:n,timeOrigin:r,serverDataToJoin:i})=>{let a=_({span:((e,{startTime:t,endTime:n,annotationMap:r,binaryAnnotationMap:i,parentId:a,traceId:o})=>({name:`pwt/${e}`,startTime:t,endTime:n,annotationMap:r,binaryAnnotationMap:i,parentId:a,id:o}))(t,n),timeOrigin:r}),o=null;return i&&(a=m(a,i),o=((e,t,n)=>{let r=(0,p.Z)();return r?.responseEnd?m(_({span:{name:"html",startTime:0,endTime:r?.responseEnd||1,annotationMap:{},binaryAnnotationMap:{nextHopProtocol:(0,d.sk)((0,u.Z)("navigation")[0]?.nextHopProtocol||null)},id:e.server_span_id||(0,c.Z)(),parentId:t},timeOrigin:n}),e):null})(i,e,r)),{trace_id:e,type:n.type,spans:[a,...o?[o]:[],...n.spans.map(e=>_({span:e,timeOrigin:r}))]}})({traceId:o,actionName:S,result:n,timeOrigin:b,serverDataToJoin:a&&w||null}));i.is||(0,f.S0)(`${k}.size`,l.length,{sampleRate:1});let{promise:s}=(0,r.Z)({type:"POST",url:"/_/_/trace/trace/",data:{report_data:l,report_context:JSON.stringify({debugTrace:i.eD,locale:t.locale,stageName:t.stageName})}});(async()=>{try{await s}catch(e){g(`Failed to report trace for ${S}:`,e)}})(),g(`PinTrace ${S} will be available shortly: https://pintrace.pinadmin.com/zipkin/traces/${o}`,{duration:n.endTime-n.startTime,result:n,pwtStaticContext:t})}}},498724:function(e,t,n){n.d(t,{Z:()=>r});let r=e=>({connectEnd:e.connectEnd||0,connectStart:e.connectStart||0,domainLookupEnd:e.domainLookupEnd||0,domainLookupStart:e.domainLookupStart||0,fetchStart:e.fetchStart||0,requestStart:e.requestStart||0,redirectEnd:e.redirectEnd||0,redirectStart:e.redirectStart||0,responseEnd:e.responseEnd||0,responseStart:e.responseStart||0,secureConnectionStart:e.secureConnectionStart||0,startTime:e.startTime||0,workerStart:e.workerStart||0,unloadEventStart:e.unloadEventStart||0,unloadEventEnd:e.unloadEventEnd||0,workerCacheLookupStart:e.workerCacheLookupStart||0,workerRouterEvaluationStart:e.workerRouterEvaluationStart||0})},375730:function(e,t,n){n.d(t,{Z:()=>o});var r=n(576746),i=n(498724),a=n(970773);function o(e,t){let{category:n,timing:o,isDeferred:l,isExternal:s,isVisuallyCompleteRequired:d}=e;if(!o.responseEnd||"image"===n&&!d)return null;let p=!1,c=o.serverTiming?.find(e=>"spanId"===e.name)?.description;return c||(p=!0),{name:(({category:e,isDeferred:t,isExternal:n})=>[e].concat(t?["deferred"]:[]).concat(n?["external"]:[]).join("_"))(e),id:c||(0,a.Z)(),parentId:t,startTime:o.startTime,endTime:o.responseEnd,annotationMap:(0,i.Z)(o),binaryAnnotationMap:{isRandomSpanId:(0,r.qr)(p),category:(0,r.sk)(n),decodedBodySize:(0,r.cC)(o.decodedBodySize||0),initiatorType:(0,r.sk)(o.initiatorType),isDeferred:(0,r.qr)(l),isExternal:(0,r.qr)(s),name:(0,r.sk)(o.name),nextHopProtocol:(0,r.sk)(o.nextHopProtocol),transferSize:(0,r.cC)(o.transferSize||0),workerFinalSourceType:(0,r.sk)(o.workerFinalSourceType),workerMatchedSourceType:(0,r.sk)(o.workerMatchedSourceType)}}}},524447:function(e,t,n){n.d(t,{UQ:()=>p,Ux:()=>s,on:()=>o,v2:()=>d});var r=n(855795),i=n(986906);let a={cumulativeLayoutShiftScore:0,longTaskDurations:[],largestContentfulPaint:null,elementTimings:[]},o=()=>{a.longTaskDurations=[]},l=(0,r.Z)(()=>[]),s=e=>{e&&l.save(),a.elementTimings=[]},d=()=>a,p=()=>{(0,i.Z)({entryTypes:["longtask"]},e=>{e.getEntries().map(e=>a.longTaskDurations.push(e.duration))},()=>o()),(0,i.Z)({type:"largest-contentful-paint",buffered:!0},e=>{let t=e.getEntries(),n=t.length,r=t[n-1];r&&(a.largestContentfulPaint=r.renderTime||r.loadTime||null)}),(0,i.Z)({type:"layout-shift",buffered:!0},e=>{e.getEntries().forEach(e=>{e.hadRecentInput||(a.cumulativeLayoutShiftScore+=e.value)})})}},855795:function(e,t,n){n.d(t,{Z:()=>r});let r=e=>{let t=null;return{get:()=>t||e(),save:()=>{t=e()}}}},986906:function(e,t,n){n.d(t,{Z:()=>r});let r=(e,t,n)=>{if(!window.PerformanceObserver)return null;try{let r=new window.PerformanceObserver(t);return r.observe(e),window.addEventListener("beforeunload",()=>{r.disconnect()}),n&&window.addEventListener("popstate",()=>{n()}),r}catch(e){return null}}},293169:function(e,t,n){n.d(t,{Cg:()=>u,Eg:()=>_,Hv:()=>m,LH:()=>d,MM:()=>f});var r=n(599197),i=n(901360),a=n(392824),o=n(979817),l=n(855795),s=n(458757);let d=()=>({defaultBufferSize:(0,s.Z)("resource").length}),p=()=>(0,s.Z)("resource"),c=(0,l.Z)(p),u=p,_=e=>{e&&c.save(),(0,i.A9)("resourceBufferSize",{count:(0,s.Z)("resource").length}),window.performance&&window.performance.clearResourceTimings&&((0,a.ZP)("resourceBufferCleared"),r.DQ&&console.info("Warning: Clearing resource timings in default buffer."),window.performance.clearResourceTimings())},m=(e,t=!0)=>{let n,r=0,a=0,l=(n=e.filter(e=>t?"image"===(0,o.i)(e)&&(e.responseEnd||(r+=1),e.transferSize||(a+=1),!!e.responseEnd&&!!e.transferSize):!!e.responseEnd&&!!e.transferSize).map(e=>8*(e.transferSize||0)/((e.responseEnd-e.responseStart)/1e3)/1e3)).length?n.reduce((e,t)=>e+t,0)/n.length:null;return t&&(r>0&&(0,i.A9)("images.downloadSpeed.noResponseEnd",{tags:{count:r}},!1),a>0&&(0,i.A9)("images.downloadSpeed.transferSize",{tags:{count:a}},!1)),l},f=e=>{if(!e)return"unknown";let t=Math.floor(e/1e3);return t<1?"0-1":t<5?"1-5":t<10?"5-10":t<20?"10-20":t<40?"20-40":t<80?"40-80":"80_or_above"}},458757:function(e,t,n){n.d(t,{Z:()=>r});function r(e){return window?.performance?.getEntriesByType&&window.performance.getEntriesByType(e)||[]}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/86517-6c7a66b8fe28730f.mjs.map