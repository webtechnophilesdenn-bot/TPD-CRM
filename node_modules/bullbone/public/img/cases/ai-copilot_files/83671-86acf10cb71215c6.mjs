(self.modernJsonp=self.modernJsonp||[]).push([["83671"],{237453:function(e,t,n){n.r(t),n.d(t,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_board",selections:[{args:null,kind:"FragmentSpread",name:"SendBoardButton_board"}],type:"Board",abstractKey:null};a.hash="0e2c441822700a6145ea7cd142c0425b";let i=a},608649:function(e,t,n){n.r(t),n.d(t,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_coverPin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],type:"CoverPin",abstractKey:null};a.hash="35b139c2e951baaa6624b30e45f913ce";let i=a},980360:function(e,t,n){var a;n.r(t),n.d(t,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowButton_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:a,storageKey:null}],type:"Pin",abstractKey:null};i.hash="cabaa35ed7d59dee006897bf3ef32e3d";let r=i},423347:function(e,t,n){n.r(t),n.d(t,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SendBoardButton_board",selections:[{args:null,kind:"FragmentSpread",name:"SendBoardFlyout_board"}],type:"Board",abstractKey:null};a.hash="8d95294efe15498023c69669c6a41e71";let i=a},452525:function(e,t,n){n.r(t),n.d(t,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SendBoardFlyout_board",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null}],type:"Board",abstractKey:null};a.hash="f459445ee8d1ea0db022e490ef5a2e80";let i=a},577846:function(e,t,n){n.r(t),n.d(t,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedPinRepDefaultPinRep_parentPin",selections:[{args:null,kind:"FragmentSpread",name:"PinRep_parentPin"}],type:"Pin",abstractKey:null};a.hash="cb2594cad81be6eec825977b7bcb2003";let i=a},897315:function(e,t,n){var a;n.r(t),n.d(t,{default:()=>r});let i={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRepDefaultPinRep_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:a=[{args:null,kind:"FragmentSpread",name:"PinRepInner_board"}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:a,storageKey:null},{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"PinRep_pin"}],type:"Pin",abstractKey:null};i.hash="4a14df4142363241fba79dec5c9e9f45";let r=i},684334:function(e,t,n){n.r(t),n.d(t,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedPinRepVariant_parentPin",selections:[{args:null,kind:"FragmentSpread",name:"UnifiedPinRepDefaultPinRep_parentPin"}],type:"Pin",abstractKey:null};a.hash="970c9e8a0b93cdd43095e6934563c7eb";let i=a},249152:function(e,t,n){n.r(t),n.d(t,{default:()=>i});let a={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRepVariant_pin",selections:[{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"UnifiedPinRepDefaultPinRep_pin"}],type:"Pin",abstractKey:null};a.hash="cf7ae619f5ec8cf58cf3302e69136b1d";let i=a},184139:function(e,t,n){n.r(t),n.d(t,{default:()=>i});let a={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRep_pin",selections:[{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"UnifiedPinRepDefaultPinRep_pin"}],type:"Pin",abstractKey:null};a.hash="bb4e0fc2e1a319a6b7c65cb9ad5c8cb6";let i=a},724810:function(e,t,n){n.d(t,{Z:()=>a});function a({maxPrice:e,minPrice:t,price:n}){return e&&t?`${t}-${e}`:n}},899678:function(e,t,n){n.d(t,{N:()=>s,Z:()=>l});var a=n(281098),i=n(667294),r=n(20256),o=n(785893);function l({children:e,fullWidth:t,overrideDataTestId:n}){return(0,i.useEffect)(()=>{(0,a.Z)("EnablePointerEvents","/app/packages/PinRep/EnablePointerEvents.tsx")},[]),(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},"data-test-id":n||"pointer-events-wrapper",children:e})}function s({children:e,enabled:t}){return(0,i.useEffect)(()=>{(0,a.Z)("EnablePointerEvents","/app/packages/PinRep/EnablePointerEvents.tsx")},[]),t?(0,o.jsx)(l,{children:e}):e}},469987:function(e,t,n){n.d(t,{Z:()=>a});function a(e){let t=Math.round(e/1e3),n=Math.floor(t/60),a=t%60;return n+":"+(a<10?"0":"")+a}},13106:function(e,t,n){n.d(t,{Z:()=>a});let a=e=>{let[t,n]=[e?.width||580,e?.height||400],[a,i]=[window.screen.width,window.screen.height];return`scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=${t},height=${n},left=${Math.round((a-t)/2)},top=${i>n?Math.round((i-n)/2):0}`}},467925:function(e,t,n){n.d(t,{Z:()=>a});function a(e=!0){let t=e?16:void 0,n=t?Math.floor(t/4):void 0;return{experimentalColumnWidth:e?221:void 0,experimentalGutter:t,experimentalGutterBoints:n}}},505712:function(e,t,n){n.d(t,{Z:()=>i});var a=n(15667);let i=()=>{let e="default",{locale:t}=(0,a.B)();return(({"ar-SA":"tall","bn-IN":"tall","hi-IN":"tall","te-IN":"tall","ko-KR":"ck","zh-CN":"ck","zh-TW":"ck",ja:"ja","th-TH":"th","vi-VN":"vi"})[t]??e)===e?"compact":"none"}},278533:function(e,t,n){n.d(t,{Z:()=>r});var a=n(686319),i=n(378888);let r=(e=()=>{})=>{let t=(0,i.mB)(window.location.search),{invite_code:n}=t;if(!n)return void e(t);let r=encodeURIComponent(encodeURIComponent(n));(0,a.Z)({url:"/v3/invite_code/attribution/land/",method:"POST",data:{invite_code:r}})}},55543:function(e,t,n){n.d(t,{Z:()=>i});var a=n(603316);function i(e,t){return new Promise((n,i)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t)if(window.FB)n();else{let t=setInterval(()=>{window.FB||20===e?(clearInterval(t),n()):(e+=1,(0,a.nP)(`mweb.loadScript.facebook.tries_${e}`,{sampleRate:.01}))},100)}else if("GSI"===t)if(window.google)n();else{let t=setInterval(()=>{window.google||20===e?(clearInterval(t),n()):(e+=1,(0,a.nP)(`mweb.loadScript.gsi.tries_${e}`,{sampleRate:.01}))},100)}else n()}else{let t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",()=>n()),t.addEventListener("error",i),document.getElementsByTagName("head")[0].appendChild(t)}})}},579275:function(e,t,n){n.d(t,{Z:()=>r});var a=n(512599);let i=["/BingSiteAuth.xml","/about","/add-account","/ads","/ads.txt","/age_verification","/all","/app-ads.txt","/apple-app-site-association","/apple-app-site-association.p7m","/attribution_source","/bot.html","/branded-pins","/browserbutton","/buy-it","/careers","/categories","/close-account","/collage-creation-tool","/content-claiming","/convert-business","/convert-personal","/create-business","/create-personal","/creation-inspiration","/creator-onboarding-landing","/csrf_error","/ct.html","/deactivate-account","/deed6a3ef3a44d41bb3ae2bad137db84.txt","/developers","/discover","/edit","/email_verification_error","/engagement","/explore","/favicon.ico","/fb.html","/following","/getWebPushKey","/google_gdn.html","/google_search.html","/googlef5dc42d6e03f6e61.html","/guidedsearch","/help","/holidays-celebrations","/holiday-shopping","/homefeed","/idea-ads-tool","/idea-pin-builder","/ideas","/image-proxy.html","/inbox","/install-shuffles","/invited","/jobs","/lens-search","/login","/logout","/manifest.json","/manifest.webapp","/me","/messages","/mobile","/notifications","/oauth","/app-factory-oauth","/appealed-pin","/oembed.json","/offline.html","/offsite","/opensearch.xml","/parent_contact_info","/parental-passcode","/pin-builder","/pin-creation-tool","/pin-editor","/pin_catalog","/pin_redirect","/pinterest-wellbeing","/pinterest-predicts","/pinterestlens","/pinterestlenstryon","/pinterestwellbeing","/policy","/product-catalogs","/public-beta","/quick-instant-loading-indicator-app-shell.html","/recently-viewed","/refresh_stored_accounts","/refresh_token","/report","/reports-and-violations","/request-ad-data","/request-data","/robots.txt","/safe-redirect","/search","/settings","/shopping","/signup","/socialmanager","/story-pin-builder","/story_feed","/sw-shell.html","/sw.html","/sw.js","/switch_account","/terms","/today","/topics","/transparent.html","/unauth-profile","/unlink","/upload-image","/upload-image-lens-history","/upload-lens-image","/upload-profile-image","/upload-shuffle-draft","/verified","/verify","/videos","/web-custom-svg","/web-mentorship","/welcome","/windows-app-web-link","/your-shop"];function r(e){return!!(0,a.LX)({path:"/:username/",end:!0},e.pathname)&&!i.includes(e.pathname.replace(/\/$/,""))}},453179:function(e,t,n){n.d(t,{Mt:()=>v,NK:()=>g,P6:()=>r,UE:()=>x,ZE:()=>f,Zt:()=>m,_J:()=>d,_S:()=>_,cL:()=>p,iR:()=>b,jL:()=>s,oN:()=>i,oU:()=>w,rM:()=>h,sV:()=>u,sY:()=>c,yp:()=>o});var a=n(239728);let i=5e3,r=5e3/a.gJ,o="Pin page",l=["Uploaded by user"],s=(e,t)=>!!t&&!e,d=e=>!!e&&5!==e,u=e=>["email","messages","deep_linking"].includes(e),c=e=>!!e&&"gif"===e,p=({embedSrc:e,embedSubtype:t,embedType:n})=>!!e&&!c(n)&&"pinstory"!==t,h=({link:e,mobileLink:t,trackedLink:n,utmLink:a})=>!t&&!a&&!n&&!e,f=e=>/pin.it/gim.test(e||""),m=({link:e,mobileLink:t,origImageUrl:n,trackedLink:a,utmLink:i})=>t||i||a||e||n||"",g=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function _(e){for(let t of l)if(e===t)return!1;return!0}function b(e){if(!e)return!1;let{id:t,videos:n}=e;if(t&&n?.id&&n.video_list){let{V_720P:e,V_HLSV4:t,V_HLSV3_MOBILE:a}=n.video_list;if(e&&y(e)||t&&y(t)||a&&y(a))return!0}let a=e.story_pin_data?.pages?.[0]?.blocks;if(a){for(let e of a)if("story_pin_video_block"===e.type&&e?.video)return!0}return!1}function y(e){return!!(e.thumbnail&&e.url&&e.width&&e.height)}function v(e){return e?/(?:v\/|V\/|be\/|(?:\?|&)v=|embed\/|shorts\/)([\w-]+)/.exec(e)?.[1]??null:null}function w({isVideo:e,link:t}){return!!e&&!!t&&!!/(youtu(|.)be)/.exec(t)&&!!v(t)}let x=e=>"button"in e&&1===e.button},594414:function(e,t,n){n.d(t,{A:()=>l,Z:()=>s});var a=n(281098),i=n(667294),r=n(20256),o=n(785893);let l=({fill:e})=>{(0,i.useEffect)(()=>{(0,a.Z)("RatingStars","/app/packages/recipe-star-components/RatingStars.tsx")},[]);let t="half"===e?(0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)(r.xu,{position:"absolute",children:(0,o.jsx)(r.JO,{accessibilityLabel:"","aria-hidden":!0,color:"default",icon:"star-half",size:15})}),(0,o.jsx)(r.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:15})]}):(0,o.jsx)(r.JO,{accessibilityLabel:"","aria-hidden":!0,color:"full"===e?"default":"subtle",icon:"star",size:15});return(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},"data-test-id":`rating-star-${e}`,display:"inlineBlock",children:t})};function s({max_rating:e,rating:t,display:n}){var s;if((0,i.useEffect)(()=>{(0,a.Z)("RatingStars","/app/packages/recipe-star-components/RatingStars.tsx")},[]),!t)return null;let d=[],u=parseFloat(e)||5,c=5*(s=(s=parseFloat(t)||0)<=u?s:u)/u;if(Number.isNaN(c))return null;let p=Math.floor(c),h=c-p;return[...Array(p).keys()].forEach(e=>d.push((0,o.jsx)(l,{fill:"full"},e))),h>=.75?d.push((0,o.jsx)(l,{fill:"full"},d.length)):h>=.25&&d.push((0,o.jsx)(l,{fill:"half"},d.length)),[...Array(5-d.length).keys()].forEach(()=>d.push((0,o.jsx)(l,{fill:"empty"},d.length))),(0,o.jsx)(r.xu,{"aria-label":`Rating ${String(c)} stars out of 5`,"data-test-id":"rating-stars",display:n?"flex":"inlineBlock",position:"relative",role:"img",width:18*u,children:d})}},940280:function(e,t,n){n.d(t,{i:()=>a});let a={AC:"ac",AUTOCOMPLETE:"autocomplete",BOARD:"blp",CONTENT_TYPE_FILTER:"content_type_filter",DIRECT_NAVIGATION:"direct_navigation",FILTER:"filter",GUIDED_SEARCH_ENTRY:"guided_search_entry",GUIDED_SEARCH_LANDING:"guided_search_landing",HASHTAG_CLOSEUP:"hashtag_closeup",HASHTAG_PINREP:"hashtag_pinrep",HOMEFEED_BUBBLE:"homefeed_bubble",HUB_PAGE:"hub_page",IDEAS_ROOT:"ideas_root",IMAGE_ONLY_ATTRIBUTION:"image_only_attribution",LANDING_PAGE_STORY:"landing_page_story",NO_RESULTS_SEARCH_STORY:"no_results_search_story",PRODUCT:"product",REMOVE:"remove",RS:"rs",SHOPPING_FILTER:"shopping_filter",SITELINKS_SEARCHBOX:"sitelinks_searchbox",SLP_REC_CURATED:"slp_rec_curated",SLP_REC_TRENDING:"slp_rec_trending",SRS:"srs",STRUCTURED_GUIDE:"structured_guide",TRENDING:"trending",TYPED:"typed",TYPO_AUTO_ORIGINAL:"typo_auto_original",TYPO_SUGGESTION:"typo_suggestion",UNKNOWN:"Unknown",URECS:"urecs",VANILLA_GUIDE:"guide",VIDEO:"video",VOICE_SEARCH:"voice_search"}},324307:function(e,t,n){n.d(t,{ZP:()=>i,mP:()=>a});let a="…";function i(e,t=80,n=a,r=!1){let o;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||r)o=e.substring(0,t);else{let n=e.lastIndexOf(" ",t);o=e.substring(0,n)}return(o=o.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+n}},123998:function(e,t,n){n.d(t,{Z:()=>b});var a=n(281098),i=n(667294),r=n(20256),o=n(390843),l=n(115247),s=n(15667),d=n(734215),u=n(998212),c=n(732888),p=n(738140),h=n(169053),f=n(785893);function m(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends i.Component{constructor(e){super(e),m(this,"componentWillUnmount",()=>{this.unregisterComponent()}),m(this,"getContext",()=>{let{clientTrackingParams:e,component:t,element:n,objectId:a,timeSpentContext:i,view:r,viewParameter:o}=this.props;return{view:r||i?.view,viewParameter:o||i?.viewParameter,component:t||i?.component,element:n,objectId:a||i?.objectId,clientTrackingParams:e||i?.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}}),m(this,"getLoggerContext",()=>{let e={...this.getContext()};return delete e.getParentUuid,e}),m(this,"getParentId",()=>{let{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){let t=e.getGrandparentUuid();if(t)return t}return e?.getParentUuid?.()}),m(this,"getUuid",()=>this.state.timedPair?this.state.timedPair.uuid:void 0),m(this,"getTimedPair",()=>this.state.timedPair),m(this,"setTimedPair",(e,t)=>{this.setState({timedPair:e},()=>{t&&t()})}),m(this,"isRegistered",!1),m(this,"registerComponent",()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0}),m(this,"unregisterComponent",()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)}),m(this,"handleVisibilityChange",e=>{let{intersectionRatio:t}=e[0],{bottom:n,left:a,right:i,top:r}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===n&&0===a&&0===i&&0===r?this.unregisterComponent():this.registerComponent())}),this.state={timedPair:new c.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,d.Z)(e.auxData,this.props.auxData)&&(0,d.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){let{children:e,intersectionObserverBoxHeight:t}=this.props;return(0,f.jsx)(p.$,{value:this.getContext(),children:(0,f.jsx)(l.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:n=>(0,f.jsx)(r.xu,{ref:n,height:t??"100%",children:i.Children.only(e)})})})}componentDidMount(){(0,a.Z)("DeprecatedTimeSpent","/app/packages/time-spent/DeprecatedTimeSpent.tsx")}}function _(e){let t=(0,o.ou)(),n=(0,p.a)(),a=(0,u.Z)(),r=(0,h.EQ)(),{requestIdentifier:l=""}=(0,s.B)(),d={app_instance_id:l.slice(0,8),...e.auxData??{}};return(0,i.useEffect)(()=>{a?.setHistoryStackContext(t)},[t,a]),(0,i.useEffect)(()=>{a?.setPins(r??{})},[r,a]),a?(0,f.jsx)(g,{...e,auxData:d,timeSpentContext:n,timeSpentManager:a,children:e.children}):e.children}_.displayName="DeprecatedTimeSpent";let b=_},734263:function(e,t,n){n.d(t,{Z:()=>l});var a=n(281098),i=n(667294),r=n(20256),o=n(785893);function l({ariaHidden:e=!1,color:t,size:n}){return(0,i.useEffect)(()=>{(0,a.Z)("Dot","/app/packages/ui/Dot.tsx")},[]),(0,o.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,o.jsx)(r.xv,{color:t,inline:!0,size:n??"200",children:"·"})})}},938287:function(e,t,n){n.d(t,{Z:()=>i});var a=n(510928);let i=({url:e})=>{if(e){let t=e.split("?");if(t[1])return(0,a.Z)(t[1])}return(0,a.Z)()}},576087:function(e,t,n){n.d(t,{Z:()=>i});var a=n(869273);let i=({url:e})=>{let t=(0,a.Z)("/");return 0===e.lastIndexOf(t,0)?e.substr(t.length-1):e}},634737:function(e,t,n){n.d(t,{Z:()=>a});function a(e){if((e||"").includes("--")){let t=e.split("--"),n=t.pop();return{text:t.join("--"),pinId:n}}return{text:"",pinId:e}}},424150:function(e,t,n){n.d(t,{GW:()=>i,RL:()=>a,s4:()=>r});let a="ios",i="android",r="ipad"},239728:function(e,t,n){n.d(t,{$f:()=>i,Cy:()=>s,DR:()=>a,Fm:()=>l,bR:()=>o,gJ:()=>r,lG:()=>d});let a=1,i=2,r=1e3,o=1e3,l=1e3,s=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),d=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4})},821651:function(e,t,n){n.d(t,{r:()=>_,W:()=>g});var a=n(667294),i=n(729434),r=n(821342),o=n(886981),l=n(295317),s=n(121836),d=n(238589),u=n(974705);let c=e=>{let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&("object"!=typeof e[n]||null===e[n]||Array.isArray(e[n])?t[(0,u.Z)(n)]=e[n]:t[(0,u.Z)(n)]=c(e[n]));return t},p={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},h=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}};var f=n(785893);let{Provider:m,getMaybe:g}=(0,i.Z)("RoleBasedAccessControlContext"),_=({children:e})=>{let t=(0,r.Z)(),n=!!(t.isAuth&&t.isPartner),{state:i,actions:u,receiveProfiles:g}=(e=>{let[t,n]=(0,a.useReducer)(h,p),i=(({dispatch:e,isEnabled:t,state:n})=>{let{orbacVisibility:i,disableProfileChanger:r,headerVisible:o}=n,l=(0,a.useCallback)(n=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:n})},[t,e]);return{changeProfile:l,toggleORBACVisibility:(0,a.useCallback)(n=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:n??!i})},[t,e,i]),toggleDisableProfileChanger:(0,a.useCallback)(n=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:n??!r})},[t,e,r]),toggleHeaderVisibility:(0,a.useCallback)(n=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:n??!o})},[t,e,o])}})({dispatch:n,isEnabled:e,state:t}),{activeProfile:r,orbacVisibility:o}=t;return(0,a.useEffect)(()=>{let e=(0,d.Nl)().getItem(s.Zo)||!1;e&&n({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,a.useEffect)(()=>{let e=(0,d.Nl)().getItem(s.ig)||!1;e&&n({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,a.useEffect)(()=>{(0,d.Nl)().setItem(s.ig,o)},[o]),(0,a.useEffect)(()=>{(0,d.Nl)().setItem(s.Zo,r)},[r]),{state:t,actions:i,receiveProfiles:(0,a.useCallback)((e,t)=>{n({type:"LOAD_PROFILES",payload:((e,t)=>{let n=[];for(let a in e)a!==t&&n.push({id:a,...c(e[a])});let a=n.sort(({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t)),i=new Map;for(let e of a)i.set(e.id,e);return i})(e,t)})},[n])}})(n),{activeProfile:_,headerVisible:b,profiles:y}=i,v=(0,a.useMemo)(()=>y?Array.from(y.values()):[],[y]),w=(0,l.Z)(v),x=!!t.isAuth&&v.length>0&&w,P=t.isAuth?t.id:"",E=t.isAuth?t.username:"",{changeProfile:S,toggleORBACVisibility:I,toggleDisableProfileChanger:R,toggleHeaderVisibility:A}=u;(0,a.useEffect)(()=>{if(n){if("string"==typeof w)return void S(w);_||S(P)}},[w,P,n,S,_]),(0,a.useEffect)(()=>{n&&(x&&!b&&A(!0),!x&&b&&A(!1))},[A,x,n,b,y]);let{data:T}=(0,o.Z)(n?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),C=T?.profiles,k=(0,a.useMemo)(()=>t&&t.isAuth&&_===t.id?{id:t.id,permissions:["OWNER"],user:{username:E,businessName:t.fullName,imgUrl:t.imageSmallUrl}}:_&&y?y.get(_):void 0,[_,y,t,E]);(0,a.useEffect)(()=>{C&&g(C,P)},[g,C,P]);let O=(0,a.useMemo)(()=>({profiles:v,headerVisible:b,activeProfile:k,changeProfile:S,toggleORBACVisibility:I,toggleDisableProfileChanger:R,toggleHeaderVisibility:A}),[v,b,k,S,I,R,A]);return(0,f.jsx)(m,{value:O,children:e})}},448505:function(e,t,n){n.d(t,{Z:()=>s});var a=n(667294),i=n(675973),r=n(821651),o=n(295317);let l=Object.freeze({}),s=()=>{let{checkExperiment:e}=(0,i.Z)(),t=(0,r.W)(),{activeProfile:n}=t||{},s=(0,o.Z)(t?.profiles||[]),{anyEnabled:d}=e("useorbacroutematcher_in_useorbacactingas");return(0,a.useMemo)(()=>d&&!s?l:n&&(n.viewerMeetsMfaRequirement||(n.permissions||[]).includes("OWNER"))?n:l,[d,s,n])}},295317:function(e,t,n){n.d(t,{Z:()=>s});var a=n(616550),i=n(825332),r=n(821342),o=n(506662),l=n(169053);let s=e=>{let t=(0,i.TH)(),n=(0,r.Z)(),s=(0,l.S6)(),d=(0,a.$B)("/:username"),u=d?.params?.username,c=(0,a.$B)("/pin/:id"),p=!!c?.params?.id&&s(c.params.id)?.pinner?.id;if((0,o.ej)(t))return!1;if((0,o.RU)(t)||(0,o.mY)(t))return!0;let h=[...e,...n.isAuth?[{user:{username:n.username},id:n.id}]:[]].find(e=>{if(!e)return!1;let{user:t,id:n}=e;return(!!t&&"username"in t&&!!t.username&&!!u||!!p&&!!n)&&(t.username===u||p===n)});return!!h&&h.id}},7872:function(e,t,n){n.d(t,{D3:()=>c,DX:()=>d,Fk:()=>a,KY:()=>p,Ms:()=>i,N1:()=>h,_P:()=>s,gJ:()=>r,lJ:()=>l,nl:()=>o,q6:()=>u});let a=(e,t)=>{let n=e&&e.isAuth?e.fullName:"";return e&&t&&t.user&&t.user.businessName&&(n=t.user.businessName),n},i=(e,t)=>{let n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},r=(e,t)=>{let n=e&&e.isAuth?e.imageMediumUrl:"";return e&&t&&t.user&&t.user.imgUrl&&(n=t.user.imgUrl),n},o=(e,t)=>!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),l=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",s=(e,t,n)=>n&&n.user&&t&&t.isAuth&&n.id!==t.id?n.user.merchantId:e.advertiser?.merchant_id,d=(e,t,n)=>n&&n.user&&e.isAuth&&n.id!==e.id?n.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,u=(e,t,n)=>!!(e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t),c=(e,t,n)=>!!(u(e,t,n)||e&&e.isAuth&&t===e.id),p=(e,t,n)=>c(e,t&&t.owner&&t.owner.id||"",n);function h(e,t,n){return c(e,t?t.id:"",n)}},38817:function(e,t,n){n.d(t,{Z:()=>A});var a,i=n(281098),r=n(667294);n(167912);var o=n(20256),l=n(521009),s=n(821342),d=n(28427),u=n(19585),c=n(675973),p=n(607001),h=n(941404),f=n(572227),m=n(87853),g=n(741155),_=n(334536),b=n(647709),y=n(341742),v=n(732347),w=n(352908),x=n(793698),P=n(400741),E=n(151594),S=n(785893);let I=({children:e,pulsar:t,testId:n})=>t.show?(0,S.jsx)(o.xu,{"data-test-id":n,position:"relative",children:(0,S.jsxs)(o.iP,{onTap:t.onClick,tapStyle:"none",children:[(0,S.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},marginTop:-5,position:"absolute",children:e}),(0,S.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},marginTop:-12,position:"absolute",children:(0,S.jsx)(o.o3,{})})]})}):(0,S.jsx)(o.xu,{"data-test-id":n,children:e}),R=(void 0!==a||(a=n(980360)).hash&&"cabaa35ed7d59dee006897bf3ef32e3d"!==a.hash&&console.error("The definition of 'FollowButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function A({auxData:e,disabled:t,disableLog:n,followEventType:a,id:A,inline:T,invertColors:C,isFollowed:k,isIdeaPin:O,isLegoEnabled:D,isSecondaryButton:F,isUserFollowButton:L,isUserMe:j,onFollow:Z,onUnfollow:B,pinKey:U,shouldUseLegoColors:N,showPulsar:G,size:z,textType:M="FollowFollowing",unfollowEventType:V,viewParameter:K,viewType:H,clientTrackingParams:Y}){let $;(0,r.useEffect)(()=>{(0,i.Z)("FollowButton","/app/www/FollowButton.tsx")},[]);let W=(0,u.ZP)(),Q=(0,b.HG)(),{showToast:q}=(0,m.dI)(),J=(0,f.Z)(),X=(0,l.Z)(),ee=(0,p.Z)(),{checkExperiment:et}=(0,c.Z)(),en=(0,w.Z)(),ea=(0,s.Z)(),ei=ea&&ea.isAuth,{unauthFollowUserId:er,setUnauthFollowUserId:eo}=(0,E.A)(),el=(0,x.mN)()(A),es=(0,g.Z)(),[ed,eu]=(0,r.useState)(k),ec=el&&{imageMediumUrl:el.image_medium_url,username:el.username},ep=(0,d.Z)(R,U),eh=ep?.linkDomain,ef=ep?.nativeCreator,em=ep?.originPinner,eg=ep?.pinner;$=ef||(eh?eh.officialUser:em||eg);let e_=ec??$;(0,y.Z)(()=>{!Q&&ei&&er&&A&&er===A&&Z(A)});let eb=en({fn:()=>{if(ei)ed?(B(A),eu(!1),n||X({event_type:V,view_type:H,view_parameter:K,object_id_str:A,aux_data:e,clientTrackingParams:Y})):(Z(A),eu(!0),L&&q(({hideToast:e})=>{let t=e_?.username?`/${e_.username}/`:"";return(0,S.jsx)(P.Z,{handleHide:e,href:t,imageUrl:e_?.imageMediumUrl||"",text:(0,S.jsx)(o.xv,{lineClamp:4,children:W._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow')}),userId:A})}),n||X({event_type:a,view_type:H,view_parameter:K,object_id_str:A,aux_data:e,clientTrackingParams:Y}));else{if((0,h.NC)(ed?"press_profile_unfollow":"press_profile_follow"),J({action:"click",item:ed?"unfollow-button":"follow-button"}),et("migration_upsell_manager_redux").anyEnabled||et("migration_upsell_manager_redux_dweb").anyEnabled||et("migration_upsell_manager_redux_mweb").anyEnabled)if(Q){let e=et("pcons_dweb_contextual_follow_modal").anyEnabled;es((0,_.b9)(!!O,e))}else{let e=et("pcons_mweb_contextual_follow_modal").anyEnabled;es((0,_.Jw)(!!O,e))}else ee({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:O?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:Q&&et("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!Q&&et("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0});Q||eo(A??""),(0,h.NC)("clickthrough")}},modalHeader:(0,v.N4)({i18n:W,toFollow:!ed})}),ey=!ed&&!!G,ev=()=>{if(j)return W._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===M)return ed?W._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):W._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');let e="FollowUnfollow"===M?W._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):W._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return ed?e:W._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,S.jsx)(I,{pulsar:ey?{show:!0,onClick:eb}:{show:!1},testId:j||ed?"board-unfollow-button":"board-follow-button",children:(0,S.jsx)(o.zx,{accessibilityLabel:ev(),color:N||"AddRemove"===M||!D&&F||C?"gray":"red",disabled:j||t,fullWidth:T,onClick:ey?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),n||X({event_type:101,component:13672,element:11951,object_id_str:A,view_type:H,view_parameter:K,aux_data:e,clientTrackingParams:Y}),eb()},selected:ed||!1,size:z,text:ev()})})}},845421:function(e,t,n){n.d(t,{r:()=>S,Z:()=>E});var a,i,r,o,l,s=n(281098),d=n(667294);n(167912);var u=n(748065),c=n(355940),p=n(221020),h=n(28427),f=n(586638),m=n(975740),g=n(169053),_=n(785893);let b=(void 0!==a||(a=n(184139)).hash&&"bb4e0fc2e1a319a6b7c65cb9ad5c8cb6"!==a.hash&&console.error("The definition of 'UnifiedPinRep_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),y=(void 0!==i||(i=n(249152)).hash&&"cf7ae619f5ec8cf58cf3302e69136b1d"!==i.hash&&console.error("The definition of 'UnifiedPinRepVariant_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),v=(void 0!==r||(r=n(684334)).hash&&"970c9e8a0b93cdd43095e6934563c7eb"!==r.hash&&console.error("The definition of 'UnifiedPinRepVariant_parentPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),w=(void 0!==o||(o=n(897315)).hash&&"4a14df4142363241fba79dec5c9e9f45"!==o.hash&&console.error("The definition of 'UnifiedPinRepDefaultPinRep_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),x=(void 0!==l||(l=n(577846)).hash&&"cb2594cad81be6eec825977b7bcb2003"!==l.hash&&console.error("The definition of 'UnifiedPinRepDefaultPinRep_parentPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),P=e=>{var t,n,a,i;let{pinId:r,pinKey:o,parentPinKey:l,...s}=e,b=o&&"GraphQL"===(0,p.o)(o),y=(0,h.Z)(w,o),v=(0,h.Z)(x,l),P=(0,g.S6)()(r),E=(0,m.gC)(),S=(t=!!b,y||t?y:P?{type:"Legacy",data:P}:null),I=(0,u.Z)(),R=(0,d.useMemo)(()=>P?{type:"Legacy",data:P}:null,[P]),A=y||b||!I?S:R;return A&&(0,_.jsx)(c.Z,{name:"DefaultPinRep",type:"critical",children:(0,_.jsx)(d.Suspense,{children:(0,_.jsx)(f.Z,{...s,boardKey:(n=!!b,a=y?.pinnedToBoard||y?.board||null,i=E(P?.pinned_to_board?.id||P?.board?.id||""),n?a:i?{type:"Legacy",data:i}:null),parentPinKey:v,pinKey:A})})})};function E({duploQueryRef:e,...t}){(0,d.useEffect)(()=>{(0,s.Z)("UnifiedPinRep","/app/www/PinRep/UnifiedPinRep.tsx")},[]);let n=(0,h.Z)(b,e);return(0,_.jsx)(P,{...t,parentPinKey:null,pinKey:n})}function S({pinKey:e,parentPinKey:t,...n}){(0,d.useEffect)(()=>{(0,s.Z)("UnifiedPinRep","/app/www/PinRep/UnifiedPinRep.tsx")},[]);let a=(0,h.Z)(y,e),i=(0,h.Z)(v,t);return(0,_.jsx)(P,{...n,parentPinKey:i,pinKey:a})}},452516:function(e,t,n){n.d(t,{Z:()=>i});var a=n(793698);function i(){let e=(0,a.dM)();return Object.keys(e).reduce((t,n)=>{let a=e[n];return t[a.username]=a,t},{})}},785195:function(e,t,n){n.d(t,{Z:()=>p,j:()=>c});var a=n(281098),i=n(667294),r=n(20256),o=n(505712),l=n(19585),s=n(302148),d=n(675973),u=n(785893);let c=[0,2,3];function p({hasAffiliateProducts:e,hasAffiliateLink:t,href:n,isPromoted:p,onNavigateSponsorClick:h,sponsorName:f,sponsorUsername:m,sponsorshipStatus:g,textWeight:_="bold",isGrid:b}){let y;(0,i.useEffect)(()=>{(0,a.Z)("SponsorshipText","/app/www/SponsorshipText/SponsorshipText.tsx")},[]);let v=(0,l.ZP)(),{checkExperiment:w}=(0,d.Z)(),x=w("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,P=(0,o.Z)(),E=n||(m?`/${m}/`:null),S=E&&f?(0,u.jsx)(r.xv,{__dangerouslyOverrideLineHeight:P,size:"200",weight:_,children:(0,u.jsx)(r.rU,{dataTestId:"sponsorship-text-link",href:E,onClick:h,children:f})},f):void 0;return p?y=(0,s.nk)(v._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:S}):g||0===g?f&&!c.includes(g)?y=(0,s.nk)(v._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:S}):2!==g&&(y=v._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):!b&&(t||e)&&(y=v._('Paid link', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products')),(0,u.jsxs)(r.xv,{__dangerouslyOverrideLineHeight:P,color:"subtle",inline:!0,lineClamp:2,size:"200",children:[x&&!p&&"Ad • "||"",y]})}},151594:function(e,t,n){n.d(t,{A:()=>l,w:()=>s});var a=n(667294),i=n(729434),r=n(785893);let{Provider:o,get:l}=(0,i.Z)("Session");function s({children:e}){let[t,n]=(0,a.useState)(void 0),i=(0,a.useCallback)(()=>n(void 0),[]),l=(0,a.useMemo)(()=>({unauthFollowUserId:t,setUnauthFollowUserId:n,removeUnauthFollowUserId:i}),[t,i]);return(0,r.jsx)(o,{value:l,children:e})}},509120:function(e,t,n){n.d(t,{Z:()=>c});var a=n(281098),i=n(667294),r=n(20256),o=n(785893);function l(e){return`${Math.min(100*e,100)}%`}function s({customCover:e,imgPos:t,imgUrl:n}){let[a,r]=(0,i.useState)({height:0,loaded:!1,width:0}),{height:o,loaded:s,width:d}=a;if((0,i.useEffect)(()=>{let e=new Image;e.onload=()=>{r({height:e.naturalHeight,loaded:!0,width:e.naturalWidth})},e.src=n},[n]),!e||!t||!o||!d)return{loaded:s,position:"center center"};let u=d-t.width,c=o-t.height,p=u>0?l(t.x/u):"center",h=c>0?l(t.y/c):"center";return{loaded:s,position:`${p} ${h}`}}function d(e){let{loaded:t,position:n}=s(e),{imgUrl:a}=e,i={backgroundImage:`url(${a})`,backgroundPosition:n,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,o.jsx)(r.xu,{"data-test-id":"cover-image-box",height:"100%",width:"100%",children:t&&(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:i},"data-test-id":"cover-image",children:(0,o.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}function u(e){let{loaded:t,position:n}=s(e),{alt:a,color:i,imgUrl:l}=e;return(0,o.jsx)(r.zd,{height:"100%",width:"100%",children:t&&(0,o.jsx)("img",{alt:a||"",src:l,style:{backgroundColor:i||"#EFEFEF",fetchPriority:"cover",height:"100%",loading:"auto",objectFit:"cover",objectPosition:n,width:"100%"}})})}function c(e){(0,i.useEffect)(()=>{(0,a.Z)("CoverImage","/app/www/board/CoverImage.tsx")},[]);let{renderAsImage:t}=e;return t?(0,o.jsx)(u,{...e}):(0,o.jsx)(d,{...e})}},298097:function(e,t,n){n.d(t,{Z:()=>E});var a,i,r=n(281098),o=n(667294);n(244311);var l=n(20256),s=n(28427),d=n(19585),u=n(97484),c=n(675973),p=n(15667),h=n(647709),f=n(483858),m=n(271597),g=n(509120),_=n(785893);function b({backgroundColor:e="darkGray",iconColor:t="inverse",iconSize:n,privacy:a,size:i=20}){(0,o.useEffect)(()=>{(0,r.Z)("PrivacyIcon","/app/www/board/duplo/PrivacyIcon.tsx")},[]);let s=(0,d.ZP)();return(0,_.jsx)(l.xu,{alignItems:"center",color:e,direction:"column",display:"flex",height:i,justifyContent:"center",rounding:"circle",width:i,children:(0,_.jsx)(l.JO,{accessibilityLabel:s._('Secret board icon', 'Icon indicating that a board is secret', 'Icon indicating that a board is secret'),color:t,icon:"secret"===a?"lock":"security",size:n??i/2})})}var y=n(865690),v=n(827644);let w=(void 0!==a||(a=n(237453)).hash&&"0e2c441822700a6145ea7cd142c0425b"!==a.hash&&console.error("The definition of 'DrawerImageGroup_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),x=(void 0!==i||(i=n(608649)).hash&&"35b139c2e951baaa6624b30e45f913ce"!==i.hash&&console.error("The definition of 'DrawerImageGroup_coverPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),P="100%";function E(e){(0,o.useEffect)(()=>{(0,r.Z)("DrawerImageGroup","/app/www/board/DrawerImageGroup.tsx")},[]);let t=(0,d.ZP)(),{boardKey:n,canEdit:a,containerBackgroundColor:i="white",coverPhoto:E,coverPinKey:S,fullSize:I,hideSecretBoardIcon:R,images:A,isActive:T,isHomePageBoards:C,isProtected:k,isSecret:O,layout:D,onEditClick:F,renderAsImage:L,showSensitivityScreen:j}=e,Z=(0,h.HG)(),{isRTL:B,isAuthenticated:U}=(0,p.B)(),N=(0,s.Z)(w,n),G=(0,s.Z)(x,S),z=(0,o.useRef)(null),M=Z&&U,{checkExperiment:V}=(0,c.Z)(),[K,H]=(0,o.useState)(!1);(0,o.useEffect)(()=>{T&&M&&N&&!O&&!K&&H(V("ce_dweb_board_preview_share_button").anyEnabled)},[T,M,N,O,K,V]);let Y=A[0],$=!E&&A[0]?.name||t._('Cover image', 'DrawerImageGroup', 'Alt text for the main image of a board'),W=[,,].fill(0),Q=new l.Ry(1),q="square"===D?m.M0:m.z9,J="square"===D?m.FP:m.FC,X=Y?.url?(0,_.jsx)(l.Ee,{alt:$,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:Y.url}):(0,_.jsx)(l.xu,{color:"secondary",height:"100%",width:"100%"}),ee=j?{filter:"blur(20px)"}:{};return(0,_.jsxs)(l.zd,{height:I?"100%":void 0,rounding:4,width:"100%",children:[(0,_.jsxs)(l.kC,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",children:[(0,_.jsx)(l.sg,{span:8,children:(0,_.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:ee},height:I?"100%":void 0,position:"relative",children:(0,_.jsx)(l.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:P}},overflow:"hidden",width:"100%",children:(0,_.jsxs)(l.xu,{ref:z,bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:C?"#FFDFE9":i,borderStyle:"solid",borderWidth:"1px 0 1px 1px",borderRadius:"16px 0 0 16px"}},"data-test-id":"drawer-image-group-first-image-container",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:[(k||O)&&!R&&(0,_.jsx)(l.xu,{left:!B,margin:2,position:"absolute",right:B,top:!0,zIndex:Q,children:(0,_.jsx)(b,{backgroundColor:"default",iconColor:"default",privacy:O?"secret":"protected",size:M?32:24})}),E?.url?(0,_.jsx)(l.zd,{height:"100%",wash:!0,width:"100%",children:(0,_.jsx)(g.Z,{customCover:E.isCustom,height:J,imgPos:G?function(e){let{crop:t,size:n}=e||{};if(Array.isArray(t)&&Array.isArray(n))return{x:t[0]||0,y:t[1]||0,width:n[0]||0,height:n[1]||0}}(G):E.position||{width:0,height:0,x:0,y:0},imgUrl:G?.imageUrl??(E.url||""),renderAsImage:L,width:Math.floor(q/3*2)})}):X]})})})}),(0,_.jsx)(l.sg,{span:4,children:(0,_.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:ee},height:"100%",children:[a&&(0,_.jsxs)(l.xu,{bottom:!0,display:K?"flex":void 0,left:B,margin:2,opacity:+!!T,position:"absolute",right:!B,zIndex:Q,children:[K&&(0,_.jsx)(l.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation()},children:(0,_.jsx)(l.xu,{marginEnd:1,children:(0,_.jsx)(v.Z,{boardKey:N,handleCreatePincode:()=>{},iconColor:"darkGray",isShowShareIcon:!0,size:"sm"})})}),(0,_.jsx)(l.iP,{onTap:({event:e})=>F?.(e),children:(0,_.jsx)(l.hU,{accessibilityLabel:t._('Edit', 'DrawerImageGroup.edit', 'Icon indicating that a board is editable'),bgColor:"white",icon:"edit",iconColor:"darkGray",size:"sm",tabIndex:-1})})]}),W.map((e,t)=>{let n=E?A[t]:A[t+1];return(0,_.jsx)(l.xu,{height:I?"50%":void 0,position:"relative",children:(0,_.jsx)(l.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:P}},overflow:"hidden",width:"100%",children:(0,_.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:C?"#FFDFE9":i,borderStyle:"solid",borderWidth:0===t?1:"0 1px 1px 1px",borderRadius:0===t?"0 16px 0 0":"0 0 16px 0"}},left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:n?.url?(0,_.jsx)(l.zd,{height:"100%",wash:!0,width:"100%",children:(0,_.jsx)(l.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:n.url})}):(0,_.jsx)(l.xu,{color:"secondary",height:"100%",width:"100%"})})})},t)})]})}),j&&(0,_.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,_.jsx)(l.X6,{align:"center",color:"light",size:"400",children:t._('This board may contain sensitive content', 'drawerImageGroup.sensitivityScreen.heading', 'Warning text for a board that may have sensitive content')})})]}),(0,_.jsx)(f.Z,{visibility:T?"visible":"none",children:(0,_.jsx)(y.Z,{additionalStyles:{backgroundColor:u.Dv.LEGO_WASH}})})]})}},271597:function(e,t,n){n.d(t,{AC:()=>o,FC:()=>u,FP:()=>s,M0:()=>l,SA:()=>p,Xq:()=>c,Y_:()=>r,o2:()=>i,s0:()=>a,z9:()=>d});let a=44,i=40,r=49,o=69,l=236,s=157,d=320,u=213,c=7,p=["US","GB","CA","FR","DE","AT","CH","IT","ES","AU","BR","NL","MX"]},601686:function(e,t,n){n.d(t,{bq:()=>d,x4:()=>u});var a=n(281098),i=n(667294),r=n(611499),o=n(785893);let l={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:r.Gg,maxWidth:r.u6,descriptionPaneWidth:r.u6-r.Gg,isCommentAttachmentSelectorOpen:!1,isCommentComposerFocused:!1,isCommentPopoverInteractionActive:!1,isCommentThreadExpanded:!1,isCloseupMediaViewerOpen:!1,isMediaViewerOpen:!1,isShoppingModuleExpanded:!1,closeupWithinMasonryEnabled:!1,peekCloseupEnabled:!1,calculatedImageHeight:0,setAbortNoActionPlacementTimeout:()=>{},setIsCloseupMediaViewerOpen:()=>{},setIsCommentAttachmentSelectorOpen:()=>{},setIsCommentComposerFocused:()=>{},setIsCommentPopoverInteractionActive:()=>{},setIsMediaViewerOpen:()=>{},setIsShoppingModuleExpanded:()=>{},setCalculatedImageHeight:()=>{},setViewportSize:()=>{}},s=(0,i.createContext)(l);function d({children:e,value:t}){(0,i.useEffect)(()=>{(0,a.Z)("Context","/app/www/closeup/desktop/Context.tsx")},[]);let n=(0,i.useMemo)(()=>({...l,...t}),[t]);return(0,o.jsx)(s,{value:n,children:e})}function u(){let e=(0,i.useContext)(s);if(!e)throw Error("useCloseupContext must be used within CloseupContextProvider");return e}},611499:function(e,t,n){n.d(t,{$T:()=>m,CI:()=>o,Ch:()=>s,E$:()=>P,ER:()=>f,Gb:()=>d,Gg:()=>i,Hf:()=>b,Id:()=>w,Ie:()=>c,KP:()=>p,Kn:()=>l,O5:()=>g,d2:()=>u,dm:()=>x,fF:()=>v,g9:()=>h,iB:()=>y,rv:()=>_,u6:()=>r});var a=n(20256);let i=508,r=1016,o=488,l=992,s=672,d=1176,u=40,c=72,p=740,h=32,f=16,m=24,g=2,_=1,b=new a.Ry(5),y={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"},v={boxShadow:"0 2px 5px rgba(0, 0, 0, 0.06)",transition:"box-shadow 200ms ease-in-out"},w="calc(90vh - 80px)",x="calc(55vh + 80px)",P="calc(75vh - 80px)"},370347:function(e,t,n){n.d(t,{Yg:()=>u,ib:()=>p,nF:()=>f,xX:()=>h});var a=n(675973),i=n(15667),r=n(647709),o=n(603316);let l=["image"],s=["image","storyPin"],d=({checkExperiment:e})=>{let{group:t}=e("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0});return{logStat:(e,n)=>(0,o.nP)("webapp.graphql.debug_auth_mweb_graphql_pin_page",{sampleRate:1,tags:{event:e,group:t,...n}})}},u=()=>{let{isAuthenticated:e}=(0,i.B)(),t=(0,r.HG)(),{checkExperiment:n}=(0,a.Z)();return e&&!t?d({checkExperiment:n}):{logStat:()=>{}}},c=0,p=({checkExperiment:e,isAuthMweb:t})=>{if(!t)return;let{logStat:n}=d({checkExperiment:e});(c+=1)<10&&n(`repin_${c}`)};function h({checkExperiment:e,isDesktop:t,isAuthenticated:n}){if(!n)return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,validImageTypes:["image"]};if(t){let{anyEnabled:t}=e("auth_dweb_graphql_pin_page");return{isGraphQLEnabledForRelatedPins:t,isGraphQLEnabledInGeneral:t,validImageTypes:l}}{let{anyEnabled:t,group:n}=e("auth_mweb_graphql_pin_page");switch(n){case"control":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,validImageTypes:l};case"enabled":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,validImageTypes:l};case"enabled_story_pin":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,validImageTypes:s};case"only_closeup":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!1,validImageTypes:l};case"only_closeup_story_pin":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!1,validImageTypes:s};case"only_related_pins":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!0,validImageTypes:l};default:return{isGraphQLEnabledInGeneral:t,isGraphQLEnabledForRelatedPins:t,validImageTypes:l}}}}function f(){let{checkExperiment:e}=(0,a.Z)(),t=(0,r.HG)(),{isAuthenticated:n}=(0,i.B)();return h({checkExperiment:e,isDesktop:t,isAuthenticated:n})}},732347:function(e,t,n){n.d(t,{N4:()=>r,Wh:()=>a,hr:()=>i});let a=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),i=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),r=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},352908:function(e,t,n){n.d(t,{Z:()=>l});var a=n(19585),i=n(647709),r=n(848387),o=n(732347);let l=()=>{let e=(0,a.ZP)(),t=(0,i.HG)(),{viewer:n,loginForMore:l,limitedLoginModalSubheader:s,limitedLoginModalNextLocation:d}=(0,r.m)();return"LIMITED_LOGIN"===n.type?({modalHeader:n,nextLocation:a})=>i=>{let r=null;i&&(i.nativeEvent&&i.nativeEvent instanceof Event?r=i:i.event&&(r=i.event)),r&&(r.preventDefault&&r.preventDefault(),r.stopPropagation&&r.stopPropagation()),l?.setVisible(!0),s?.setText(n||(t?(0,o.hr)(e):(0,o.Wh)(e))),a&&d?.setRoute(a)}:({fn:e})=>e}},483190:function(e,t,n){n.d(t,{ZP:()=>l,hR:()=>s});var a=n(19585),i=n(15667),r=n(533076),o=n(229249);function l(){return s((0,a.ZP)())}function s(e){let{countryFromIp:t,isAuthenticated:n,isBot:a}=(0,i.Ts)(),l=function(e){if(e){for(let[t,n]of Object.entries(r.a0))if(n?.COUNTRY_CODES&&n.COUNTRY_CODES.includes(e))return t}}(t||""),s=function(e=r.Wy.TEST,t){let n=(0,o.Z)({law:e,i18n:t}),a=n?.translations?.takedown?.inAppReporting;return a?{board:a?.board,profile:a?.profile,pin:a?.pin,comment:a?.comment}:{}}(l,e),d={lawImplementation:void 0,hasApplicableLawForCountry:!1,inAppReporting:{},createReportLink:()=>""};if(!(!n&&!a)||!l)return d;let u=l?r.a0[l]:void 0,c=u?.ENABLE_UNAUTH_IN_APP_REPORTING??!0;if(l&&c){let e=r.a0[l]?.BASE_FORM_URL||"";return{lawImplementation:l,hasApplicableLawForCountry:!0,inAppReporting:s,createReportLink:t=>{if(!e)return"";let n=new URL(e);return t?.pinId?(n.searchParams.set("pinId",t.pinId),t?.didItId&&n.searchParams.set("did_it_id",t.didItId),t?.commentId&&n.searchParams.set("commentId",t.commentId)):t?.username&&(n.searchParams.set("username",t.username),t?.boardName&&n.searchParams.set("boardName",t.boardName)),n.toString()}}}return d}},696323:function(e,t,n){n.d(t,{Z:()=>a});let a={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",AUTOMAGICAL_BOARD_FEED:"automagical-board-feed",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",USE_CASE_TAB:"useCaseFeed",TRIED_IT_FEED:"trieditfeed"}},526950:function(e,t,n){n.d(t,{Z:()=>i});var a=n(35831);let i=(e,t)=>{switch(e=e||{},t.type){case a.zP:case a.aW:{let{response:n,resource:a}=t.payload,{data:i}=n.resource_response;if("StoryPinDraftsResource"===a){let t=(i||[]).filter(Boolean).reduce((e,t)=>(e[t.id]=t,e),{});return{...e,...t}}return e}case"STORY_PIN_DATA_DELETE":{let{storyPinDataId:n}=t.payload,a={...e};return delete a[n],a}default:return e}}},854167:function(e,t,n){n.d(t,{Z:()=>f});var a,i=n(281098),r=n(667294);n(167912);var o=n(20256),l=n(679422),s=n(28427),d=n(19585),u=n(896273),c=n(785893);let p=(void 0!==a||(a=n(452525)).hash&&"f459445ee8d1ea0db022e490ef5a2e80"!==a.hash&&console.error("The definition of 'SendBoardFlyout_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);class h extends r.Component{constructor(...e){var t,n,a;super(...e),n={flyoutOpen:!1},(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?a:a+"")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}render(){let{board:e,bgColor:t="white",children:n,iconColor:a="gray",onCreatePincode:i,size:l="lg"}=this.props,{flyoutOpen:s}=this.state,d={description:e?.description,id:e?.entityId??"",imageUrl:e?.imageCoverUrl,name:e?.name??void 0,type:"board",url:e?.url??void 0},p=e=>{let{requireAuth:t}=this.props;if(t){e&&e.preventDefault(),t();return}this.state.flyoutOpen||this.props.onOpen(),this.setState(e=>({flyoutOpen:!e.flyoutOpen}))},h=n&&n({active:s,onClick:()=>p()})||(0,c.jsx)(o.hU,{ref:this.props.sendBoardButtonRef,accessibilityLabel:this.props.i18n._('Send Board', 'Accessible label for button to send board', 'Accessible label for button to send board'),bgColor:t,dataTestId:"send-board-button-icon",icon:"share",iconColor:a,onClick:({event:e})=>p(e),selected:s,size:l});return(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(o.xu,{ref:e=>{this.anchor=e},children:h}),this.state.flyoutOpen&&(0,c.jsx)(o.mh,{children:(0,c.jsx)(o.J2,{anchor:this.anchor,idealDirection:"down",onDismiss:()=>p(),positionRelativeToAnchor:!1,size:"flexible",children:(0,c.jsx)(u.Z,{component:13216,onCreatePincodeClick:i?()=>{p(),i()}:void 0,onHide:()=>p(),sendType:"board",sharedObject:d,viewType:5})})})]})}componentDidMount(){(0,i.Z)("SendBoardFlyout","/app/www/save/board/BoardInfoBar/SendBoardFlyout.tsx")}}let f=e=>{(0,r.useEffect)(()=>{(0,i.Z)("SendBoardFlyout","/app/www/save/board/BoardInfoBar/SendBoardFlyout.tsx")},[]);let t=(0,d.ZP)(),n=(0,l.Z)(),a=(0,s.Z)(p,e.boardKey);return(0,c.jsx)(h,{...e,board:a,i18n:t,requireAuth:n,sendBoardButtonRef:e.sendBoardButtonRef})}},827644:function(e,t,n){n.d(t,{Z:()=>g});var a,i=n(281098),r=n(667294);n(244311);var o=n(20256),l=n(980787),s=n(679422),d=n(937392),u=n(28427),c=n(19585),p=n(854167),h=n(277168),f=n(785893);let m=(void 0!==a||(a=n(423347)).hash&&"8d95294efe15498023c69669c6a41e71"!==a.hash&&console.error("The definition of 'SendBoardButton_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function g({boardKey:e,handleCreatePincode:t,iconColor:n,isShowShareIcon:a,size:g="lg"}){(0,r.useEffect)(()=>{(0,i.Z)("SendBoardButton","/app/www/save/board/Headers/BoardHeader/SendBoardButton.tsx")},[]);let{logContextEvent:_}=(0,l.u)(),b=(0,c.ZP)(),y=(0,s.Z)(),v=(0,r.useRef)(null),w=(0,u.Z)(m,e);return(0,f.jsxs)(r.Fragment,{children:[(0,f.jsx)(p.Z,{boardKey:w,iconColor:n,onCreatePincode:t,onOpen:()=>{if(y)return void y();(0,h.Z)(_)},sendBoardButtonRef:v,size:g,children:a?void 0:({onClick:e})=>(0,f.jsx)(o.xu,{"data-test-id":"board-share-button-auth",children:(0,f.jsx)(o.zx,{ref:v,color:"gray",fullWidth:!0,onClick:e,size:g,text:b._('Share', 'BoardHeader.SendBoardButton', 'Text on button to share board')})})}),(0,f.jsx)(d.N,{anchors:{3018:v.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})}},277168:function(e,t,n){n.d(t,{Z:()=>a});function a(e){e({event_type:101,element:10778,component:13216,view_type:5,view_parameter:3069})}},921825:function(e,t,n){n.d(t,{$:()=>_,G:()=>b});var a=n(281098),i=n(667294),r=n(422578),o=n(616550),l=n(825332),s=n(274320),d=n(15667);function u(e){let t={result:{kind:"Pending",promise:e},read:()=>(function(e){let{result:t}=e;switch(t.kind){case"Pending":throw t.promise;case"Ok":return t.value;case"Err":throw t.error;default:throw Error("Unexpected case")}})(t)};return e.then(e=>{t.result={kind:"Ok",value:e}}).catch(e=>{t.result={kind:"Err",error:e}}),t}let c={"/collage-creation-tool":{loader:()=>Promise.all([n.e("8126"),n.e("50444")]).then(n.bind(n,31156)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("25418"),n.e("19007"),n.e("57207"),n.e("8126"),n.e("32060"),n.e("89568"),n.e("17842"),n.e("76201")]).then(n.bind(n,298742)).then(e=>e.default)},"/ideas":{loader:()=>Promise.all([n.e("25418"),n.e("996")]).then(n.bind(n,589382)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("25418"),n.e("47336")]).then(n.bind(n,671804)).then(e=>e.default)},"/pin/:id/analytics":{loader:()=>n.e("62315").then(n.bind(n,540803)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("25418"),n.e("15417"),n.e("16868"),n.e("97074"),n.e("95776"),n.e("12697"),n.e("16829")]).then(n.bind(n,743936)).then(e=>e.default)},"/today/":{loader:()=>n.e("42207").then(n.bind(n,489815)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("25418"),n.e("36140"),n.e("91678")]).then(n.bind(n,682910)).then(e=>e.default)}};var p=n(603316),h=n(785893);let f=(0,i.createContext)(null),m=/(^\/)|:|(\/$)/g,g=/\//g,_=({children:e})=>{(0,i.useEffect)(()=>{(0,a.Z)("EntrypointContext","/pws/entrypoint-router/EntrypointContext.tsx")},[]);let t=(0,r.useRelayEnvironment)(),{checkExperiment:n}=(0,s.r)(),u=(0,d.B)(),c=(0,i.useRef)({}),_=(0,i.useCallback)(e=>{let{rootComponent:a,loadedValueState:i}=v(y(c.current,e),e,"Both",t,n,u);return"NotYetRendered"===i.performanceLoggingState.kind&&(i.performanceLoggingState={kind:"InitiallyRendered",initialRenderTime:Date.now()}),{rootComponent:a,onEntrypointDataLoaded:t=>{if("InitiallyRendered"===i.performanceLoggingState.kind){let n=Date.now();(0,p.LY)("entrypointRouter.routeTiming."+e.kind.replace(m,"").replace(g,"_"),n-i.performanceLoggingState.initialRenderTime,{sampleRate:.1,tags:t??{}}),i.performanceLoggingState={kind:"Complete"}}},loadedValue:i.loadedValue}},[n,t,u]),b=(0,l.s0)(),w=(0,i.useCallback)(e=>{v(y(c.current,e),e,"Both",t,n,u),b((0,o.Gn)(e.kind,e.routeParams))},[b,n,t,u]),x=(0,i.useCallback)((e,a)=>{let i=y(c.current,e);"Both"===a&&v(i,e,a,t,n,u)},[n,t,u]),P=(0,i.useMemo)(()=>({loadAndReadDuringRender__INTERNAL:_,preload:x,imperativelyNavigate:w}),[_,w,x]);return(0,h.jsx)(f,{value:P,children:e})};function b(){let e=(0,i.useContext)(f);if(null==e)throw Error("Missing entrypoint context");return e}function y(e,t){let n=c[t.kind];if(null==n)throw Error("Unexpected missing route! Did you define it in routeMap.ts?");return e[t.kind]??={rootComponent:u(n.rootComponent()),loadedValueStates:{},loader:u(n.loader())}}function v(e,t,n,a,i,r){var o;let l=JSON.stringify(function e(t){if(!t||"object"!=typeof t)return t;if(Array.isArray(t))return t.map(e);let n=Object.keys(t).sort(),a={};for(let i=0;i<n.length;i++)a[n[i]]=e(t[n[i]]);return a}(t.routeParams)),{loadedValueStates:s,rootComponent:d,loader:c}=e;return{rootComponent:d,loadedValueState:s[l]??=(o=t.kind,setTimeout(()=>{let e=s[l];null!=e&&(0,p.nP)("entrypointRouter.entrypointUse",{sampleRate:.1,tags:{routeName:o,usedInTime:"NotYetRendered"!==e.performanceLoggingState.kind}})},3e4),{loadedValue:function(e,t){var n,a;let{result:i}=e;switch(i.kind){case"Pending":return u(i.promise.then(t));case"Ok":return{result:{kind:"Ok",value:n=t(i.value)},read:()=>n};case"Err":return{result:{kind:"Err",error:a=i.error},read:()=>{throw a}};default:throw Error("Unexpected case")}}(c,e=>e({routeParams:t.routeParams,relayEnvironment:a,checkExperiment:i,requestContext:r})),performanceLoggingState:{kind:"NotYetRendered"}})}}},934041:function(e,t,n){n.d(t,{I:()=>o,t:()=>r});var a=n(667294),i=n(825332);let r=(0,a.createContext)(null);function o(){return(0,i.TH)()===(0,a.useContext)(r)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/83671-86acf10cb71215c6.mjs.map