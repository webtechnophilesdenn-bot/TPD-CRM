(self.modernJsonp=self.modernJsonp||[]).push([["95"],{462478:function(e,t,n){n.d(t,{W:()=>i,Z:()=>o});var a=n(68290);function r(e,t,n=3){window._sendFacebookPixel?("NewOrRezUsers"===e||"MAU"===e?window._sendFacebookPixel("trackCustom",e):window._sendFacebookPixel("track",e),t()):n>0&&setTimeout(()=>{r(e,t,n-1)},Math.floor(3e3/n))}function o(e,t){"complete"===document.readyState?r(e,t):window.addEventListener("load",function e(t,n){return a=>{r(t,n),window.removeEventListener(a,e(t,n))}}(e,t))}function i(){document.getElementById("facebookPixel")||("complete"===document.readyState&&function(){let e=(0,a.Z)({src:"https://"+location.hostname+"/fb.html",id:"facebookPixel",sandbox:"allow-scripts allow-same-origin",style:"display: none;"});if(document.body)document.body.appendChild(e),e?.contentWindow?.addEventListener("load",()=>window._sendFacebookPixel=e.contentWindow.fbq);else throw Error("missing <body>")}(),window.addEventListener("load",i))}},71054:function(e,t,n){n.d(t,{BR:()=>i,h7:()=>s,qo:()=>c,xY:()=>l});var a=n(855872),r=n(413145),o=n(603316);let i=(e=!1)=>e?"0F985541-B543-4B29-A098-4BB9B8E9DEF8":"F5675B21-025B-4843-983C-38D86DEB394B",s="https://iframe.arkoselabs.com",l=({component:e,fingerprintData:t,startTimeMs:n,logContextEvent:a,onReady:r})=>{window.setupEnforcement=o=>{t.current.arkoseEnforcement=o,a({event_type:8109,component:e,element:18039,aux_data:{time_in_ms:Math.round(performance.now()-n),is_iframe:!1}}),r?.()}},c=({fingerprintData:e,source:t,logContextEvent:n})=>new Promise(l=>{let c;if(!e)return void l(!1);if("string"==typeof(c=e.current.experimentGroup)&&c===a.$.ENABLED_ARKOSE_IFRAME){let e=document.getElementById("arkoseFrame");e?.contentWindow&&e.contentWindow.postMessage(JSON.stringify({publicKey:i(),eventId:"challenge-open"}),s),l(!0);return}if(e.current.arkoseEnforcement){let s=i(e.current.experimentGroup===a.$.ENABLED_CHALLENGE),c=e.current.arkoseEnforcement.getConfig();e.current.arkoseEnforcement.setConfig({publicKey:s,onCompleted:r=>{e.current.arkoseSessionToken=r.token,e.current.submitTriggeredTime&&((0,o.LY)(`web_identity_fp_vendors.${t}.submit.time`,performance.now()-e.current.submitTriggeredTime,{tags:{experiment_group:e.current.experimentGroup}}),n({event_type:101,element:18039,component:t===a.E.LOGIN?14212:14214,aux_data:{time_in_ms:Math.round(performance.now()-e.current.submitTriggeredTime),is_iframe:!1}})),l(!1)},onReady:()=>{e.current.arkoseEnforcement?.run()},onError:e=>{let t=e&&"error"in e&&"error"in e.error?e.error.error:"unknown";(0,r.T)({name:`arkoseEnforcementError.${t}`,message:"Error setting arkose enforcement config",message_detail:t,stack:e instanceof Error?e.stack:void 0}),l(!1)},onHide:()=>{e.current.arkoseSessionToken&&l(!1),l(!0)}}),c.publicKey===s&&e.current.arkoseEnforcement.run()}else l(!1)})},855872:function(e,t,n){n.d(t,{$:()=>r,E:()=>a});let a={LOGIN:"login",SIGNUP:"signup"},r={ENABLED_ARKOSE:"enabled_arkose",ENABLED_SARDINE:"enabled_sardine",ENABLED_DETECTION:"enabled_detection",ENABLED_CHALLENGE:"enabled_challenge",ENABLED_ARKOSE_ENFORCEMENT:"enabled_arkose_enforcement",ENABLED_SARDINE_ENFORCEMENT:"enabled_sardine_enforcement",ENABLED_ARKOSE_IFRAME:"enabled_arkose_iframe",ENABLED_LOGIN_ONLY:"enabled_login_only",CONTROL:"control",CONTROL_DETECTION:"control_detection"}},801406:function(e,t,n){n.d(t,{Lq:()=>d,Ds:()=>c,yW:()=>l,NW:()=>u});var a=n(71054),r=n(855872),o=n(413145);let i=()=>{let e=document?.getElementById("sardine-script")?.getAttribute("data-session-key");return e&&window.performance?`${e}-${performance.now()}`:null},s=({component:e,fingerprintData:t,startTimeMs:n,logContextEvent:a,onCompleted:s})=>{if(!window._Sardine){s(),(0,o.T)({name:"sardineSdkNotFound",message:"Error creating sardine context",message_detail:JSON.stringify({error_message:"Sardine SDK not found in window object"})});return}let l=i();if(!l){s(),(0,o.T)({name:"sardineSdkSessionKeyNotFound",message:"SessionKey not found on sardine-script"});return}let c=14214===e?r.E.SIGNUP:r.E.LOGIN,d=window._Sardine.createContext({clientId:"3eb358e5-fb44-4c08-a426-e00ce538c65d",sessionKey:l,flow:c,environment:"production",parentElement:document.body,onDeviceResponse:r=>{t.current.sardineSessionKey=l,a({event_type:8109,component:e,element:18040,aux_data:{time_in_ms:Math.round(performance.now()-n),is_iframe:!1}}),s()}});t.current.sardineContext=d},l=e=>({sardineSessionKey:null,arkoseSessionToken:null,arkoseEnforcement:null,sardineContext:null,submitTriggeredTime:null,experimentGroup:e("web_identity_fp_vendors").group}),c=({component:e,fingerprintData:t,startTimeMs:n,logContextEvent:o,onFinished:i})=>{switch(t.current.experimentGroup){case r.$.ENABLED_ARKOSE:(0,a.xY)({component:e,fingerprintData:t,startTimeMs:n,logContextEvent:o,onReady:()=>{i?.()}});break;case r.$.ENABLED_SARDINE:s({component:e,fingerprintData:t,startTimeMs:n,logContextEvent:o,onCompleted:()=>{i?.()}});break;case r.$.ENABLED_DETECTION:case r.$.ENABLED_ARKOSE_ENFORCEMENT:case r.$.ENABLED_SARDINE_ENFORCEMENT:case r.$.CONTROL_DETECTION:(0,a.xY)({component:e,fingerprintData:t,startTimeMs:n,logContextEvent:o}),s({component:e,fingerprintData:t,startTimeMs:n,logContextEvent:o,onCompleted:()=>{i?.()}});break;case r.$.ENABLED_CHALLENGE:(0,a.xY)({component:e,fingerprintData:t,startTimeMs:n,logContextEvent:o}),s({component:e,fingerprintData:t,startTimeMs:n,logContextEvent:o,onCompleted:()=>{i?.()}});break;case r.$.ENABLED_LOGIN_ONLY:if(14214===e)return;(0,a.xY)({component:e,fingerprintData:t,startTimeMs:n,logContextEvent:o}),s({component:e,fingerprintData:t,startTimeMs:n,logContextEvent:o,onCompleted:()=>{i?.()}});break;case r.$.CONTROL:default:o({event_type:8109,component:e,aux_data:{time_in_ms:Math.round(performance.now()-n)}}),i?.()}},d=({fingerprintData:e,source:t,logContextEvent:n})=>((({fingerprintData:e,source:t})=>{if(!e)return;if(!e.current?.sardineContext?.updateConfig)return(0,o.T)({name:"updateSardineContext.sardineSdkContextNotFound",message:"Sardine context not found"});let n=i();if(!n)return(0,o.T)({name:"updateSardineContext.sardineSdkSessionKeyNotFound",message:"SessionKey not found on sardine-script"});e.current.sardineContext.updateConfig({flow:t,sessionKey:n}),e.current.sardineSessionKey=n})({fingerprintData:e,source:t}),(0,a.qo)({fingerprintData:e,source:t,logContextEvent:n})),u=e=>{if(!e.fingerprintData?.current)return e;let t={...e};return e.fingerprintData.current.sardineSessionKey&&(t.sardineSessionKey=e.fingerprintData.current.sardineSessionKey),e.fingerprintData.current.arkoseSessionToken&&(t.arkoseSessionToken=e.fingerprintData.current.arkoseSessionToken),t.fingerprintData&&delete t.fingerprintData,t}},356075:function(e,t,n){n.d(t,{VC:()=>k,F8:()=>A,sl:()=>E,Rs:()=>v,M7:()=>b,eP:()=>w,x9:()=>S});var a=n(111330),r=n(68290),o=n(450978),i=n(753143),s=n(603316);let l={"flashtalking-d-ses":["https://servedby.flashtalking.com/container/19112;123474;13378;iframe/?spotName=Desktop_Web_Session&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=","__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-Zx62--R$"],"flashtalking-m-ses":["https://servedby.flashtalking.com/container/19112;123473;13378;iframe/?spotName=Mobile_Web_Session&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=","__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-aC5fNCn$"],flashtalking_d_login:["https://servedby.flashtalking.com/container/19112;123477;13378;iframe/?spotName=Desktop_Web_Login&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=","__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-UP9cLAD$"],flashtalking_m_login:["https://servedby.flashtalking.com/container/19112;123460;13378;iframe/?spotName=Mobile_Web_Login&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=","__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-dZEP4zq$"],flashtalking_d_reg:["https://servedby.flashtalking.com/container/19112;123459;13378;iframe/?spotName=Desktop_Web_Registration&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=","__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-bBBO_93$"],flashtalking_m_reg:["https://servedby.flashtalking.com/container/19112;123472;13378;iframe/?spotName=Mobile_Web_Registration&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=","__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-QIr-gzV$"],"flashtalking-bus":["https://servedby.flashtalking.com/container/19112;123475;13379;iframe/?spotName=Desktop_Business_Billing&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=","__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-UtxgWP6$"],"flashtalking-first-spend-event":["https://servedby.flashtalking.com/container/19112;130299;13379;iframe/?spotName=First_Time_Spenders&U7="],"flashtalking-all-spend-event":["https://servedby.flashtalking.com/container/19112;130301;13379;iframe/?spotName=All_Spenders&U7="],"flashtalking-advertiser-rez-event":["https://servedby.flashtalking.com/container/19112;130300;13379;iframe/?spotName=Resurrected_Spenders&U7="],"flashtalking-shop-event":["https://servedby.flashtalking.com/container/19112;126331;13379;iframe/?spotName=Shopping_Advertisers&U6=&U7="],"flashtalking-catalog-feed-event":["https://servedby.flashtalking.com/container/19112;126604;13379;iframe/?spotName=Catalog_Uploads&U7="],"flashtalking-billing-complete-event":["https://servedby.flashtalking.com/container/19112;126329;13379;iframe/?spotName=Billing_Completion&U7="],"flashtalking-no-micro-catalog-feed-realtime-event":["https://servedby.flashtalking.com/container/19112;130191;13379;iframe/?spotName=No_micro_catalog_feed&U7="],"flashtalking-catalog-feed-realtime-event":["https://servedby.flashtalking.com/container/19112;130294;13379;iframe/?spotName=Catalog_Feeds&U7="],"flashtalking-catalog-feed-page-view-event":["https://servedby.flashtalking.com/container/19112;130295;13379;iframe/?spotName=Catalog_Feeds_Starting_Page_Unique_Visitors&U7="],"flashtalking-business-site-catalog-upload-click-event":["https://servedby.flashtalking.com/container/19112;130298;13379;iframe/?spotName=Catalog_Upload_Button_Click_on_Biz_Site&U7="],"flashtalking-business-site-no-micro-catalog-upload-click-event":["https://servedby.flashtalking.com/container/19112;130297;13379;iframe/?spotName=No_Micro_Catalog_Upload_Button_Click_on_Biz_Site&U7="],"flashtalking-business-site-page-view-event":["https://servedby.flashtalking.com/container/19112;130446;13379;iframe/?spotName=Biz_site_shopping_page_unique_visitors&U7="]},c=[a.pF,a.b_,a.bB,a.PL],d="flashtalking-first-spend-event",u="flashtalking-all-spend-event",g="flashtalking-advertiser-rez-event",_="flashtalking-catalog-feed-event",f="flashtalking-billing-complete-event",m=new Set([d,g,"flashtalking-shop-event",_,f,"flashtalking-no-micro-catalog-feed-realtime-event","flashtalking-catalog-feed-realtime-event","flashtalking-catalog-feed-page-view-event","flashtalking-business-site-catalog-upload-click-event","flashtalking-business-site-no-micro-catalog-upload-click-event","flashtalking-business-site-page-view-event",u]);function p(e,t=""){return m.has(e)?l[e][0]+t+"&cachebuster="+(0,o.OJ)():l[e][0]+(0,o.OJ)()+l[e][1]}function h(){for(let e of c){let t=(0,i.M0)().getItem(e);if(t){let n=(0,r.Z)({src:p(e),id:e,height:1,width:1,style:"display:none;"});if(!document.getElementById(e)){document.body?.appendChild(n);let[a,r]=t=t.split("#");(0,s.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:a,event_name:"All"}}),"All"!==r&&(0,s.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:a,event_name:r}}),(0,i.M0)().removeItem(e)}}}}function k(e,t,n,a){if(document.getElementById(e))return void h();function o(e,t,n,a){let o=(0,r.Z)({src:p(e,n),id:e,height:1,width:1,style:"display:none;"});document.getElementById(e)||(o.setAttribute("data-test-id",a),document.body?.appendChild(o),t(),h())}"complete"===document.readyState&&o(e,t,n,a),window.addEventListener("load",function e(t,n,a,r){return i=>{o(t,n,a,r),window.removeEventListener(i,e(t,n,a,r))}}(e,t,n,a))}function y(e,t,n,a){c.find(t=>t===e)?(0,i.M0)().setItem(e,`${t}#${n}`):k(e,a)}function v(e,t,n,a){"complete"===document.readyState?y(e,t,n,a):window.addEventListener("load",function e(t,n,a,r){return o=>{y(t,n,a,r),window.removeEventListener(o,e(t,n,a,r))}}(e,t,n,a))}function b(e,t){if(!e||!t||0===Object.keys(e).length)return;let n=e[t].resurrected;if(n){let e=new Date(n),a=new Date;90>=(0,o.LG)(e,a)&&k(g,()=>{(0,s.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:"AdvertiserRez",event_name:"All"}})},a.toISOString().slice(0,10)+"&U8="+(0,o.TF)(o.qs,t))}}function A(e,t){if(!e||!t||0===Object.keys(e).length)return;let n=e[t].replaceAll("'",'"'),a="";try{let e=JSON.parse(n);if(e&&Object.keys(e).length>0){let{dt:t,merchant_id:n,feed_profile_ids:r}=e;if(t&&n&&r){let e=(0,o.TF)(o.qs,n);a=t+"&U8="+r+"&U9="+e}}}catch(e){(0,s.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:"CatalogFeed",event_name:"ParseErrors"}})}k(_,()=>{(0,s.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:"CatalogFeed",event_name:"All"}})},a)}function E(e,t){let n=new Date().toISOString().slice(0,10),a=(0,o.TF)(o.qs,e);k(f,()=>{(0,s.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:"Billing",event_name:"All"}})},n+"&U8="+(0,o.TF)(o.qs,t)+"&U9="+a)}function w(e){k(d,()=>{(0,s.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:"FirstSpender",event_name:"All"}})},new Date().toISOString().slice(0,10)+"&U8="+(e?(0,o.TF)(o.qs,e):""))}function S(e){k(u,()=>{(0,s.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:"AllSpender",event_name:"All"}})},new Date().toISOString().slice(0,10)+"&U8="+(e?(0,o.TF)(o.qs,e):""))}},981636:function(e,t,n){n.d(t,{Z:()=>d});var a=n(686319),r=n(941404),o=n(111330),i=n(753143),s=n(185347),l=n(323469),c=n(831373);async function d(e){let t=(0,c.ZP)(),n=(0,l.wc)(),d=(0,s.R)(),u=t.length>0?t.map(({pageType:e,...t})=>t):[],g=d.map(e=>({pin_id:e.pinId,image_signature:e.imageSignature,link:e.link,domain:e.domain,ts:e.ts})),_={is_register:e??!1,unauth_visited_pages:JSON.stringify(u),unauth_searches:JSON.stringify(n),unauth_pin_clickthroughs:JSON.stringify(g)};try{let e=(await (0,a.Z)({url:"/v3/orientation/user_landing_signals/",method:"POST",data:_})).resource_response.error;(0,r.My)(`landing_signals.flush.${e?"failure":"success"}`)}catch(e){(0,r.My)("landing_signals.flush.caught_exception")}finally{(0,i.M0)().removeItem(o.pm),(0,i.M0)().removeItem(o.ny),(0,i.M0)().removeItem(o.Vb),(0,i.M0)().removeItem(o.Mi)}}},201845:function(e,t,n){n.d(t,{Z:()=>o});var a=n(667294),r=n(675973);function o(){let{checkExperiment:e}=(0,r.Z)();return{activatePCUnauthHoldoutExperiments:(0,a.useCallback)(()=>{e("2025_h2_pc_unauth_upsell_holdout"),e("2025_h2_pc_unauth_authentication_holdout")},[e]),userIsEligibleForShippedPCUpsellExperiment:()=>"holdout"!==e("2025_h2_pc_unauth_upsell_holdout").group,userIsEligibleForShippedPCAuthenticationExperiment:()=>"holdout"!==e("2025_h2_pc_unauth_authentication_holdout").group}}},240402:function(e,t,n){n.d(t,{Z:()=>h,l:()=>p});var a=n(281098),r=n(667294),o=n(293565),i=n(729434),s=n(201845),l=n(324845),c=n(513855),d=n(675973),u=n(15667),g=n(941404),_=n(647709),f=n(785893);let{Provider:m,getMaybe:p}=(0,i.Z)("GoogleSignInApi");function h({children:e}){(0,r.useEffect)(()=>{(0,a.Z)("GoogleSignInSDKManager","/app/packages/pinterest-authentication/GoogleSignInSDKManager.tsx")},[]);let t=(()=>{let e=(0,_.HG)(),{checkExperiment:t}=(0,d.Z)();return t(e?"web_google_disabled":"mweb_google_disabled").anyEnabled})(),n=(0,_.HG)(),i=(0,r.useRef)(null),p=(0,r.useRef)(new Set),h=(0,r.useRef)(new Set),k=(0,r.useRef)(null),{userIsEligibleForShippedPCAuthenticationExperiment:y}=(0,s.Z)(),v=y(),{language:b,userAgent:A}=(0,u.B)(),E=n?"dweb":"mweb",{browserName:w,platform:S}=A,N="android"!==S||!(0,o.un)(w??""),V=(0,r.useRef)(!1),U=(0,r.useCallback)(()=>{if(V.current)return;V.current=!0;let e=!1,t=()=>{let t=(0,l.Fm)();t&&(e||(e=!0,(0,c.Z)({type:"loadScript",status:"success"}),(0,c.Z)({type:"apiClient",valid:!!t}),k.current=t,(0,l.OY)({autoSelect:!0,useContinueForContext:v,useFedCMForButton:N},e=>{if((0,c.Z)({type:"response",valid:!!e}),e)if((0,g.My)(`${E}.google_sign_in.select_by.${e.select_by}`),"SIGN_IN_WITH_GOOGLE_BUTTON"===(0,l.PL)(e.select_by)){let t=Array.from(p.current),n=t[t.length-1],a=i.current;n?n(e):a&&a(e)}else i.current?.(e)}),h.current.forEach(e=>{e()}),h.current.clear()))};window.onGoogleLibraryLoad=()=>t(),(0,c.Z)({type:"loadScript",status:"start"}),(0,l.Px)(void 0,b).then(()=>{t()}).catch(()=>{})},[b,v,N,E]);(0,r.useEffect)(()=>{t?(p.current.clear(),h.current.clear()):U()},[t,U]);let C=(0,r.useRef)({ensureInit:(e,t)=>(U(),"button"===e?p.current.add(t):i.current=t,new Promise(e=>{k.current?e(void 0):h.current.add(e)})),removeButtonCallback:e=>{p.current.delete(e)}});return(0,f.jsx)(m,{value:C.current,children:e})}},513855:function(e,t,n){n.d(t,{Z:()=>l});var a=n(327613),r=n(941404);let o=e=>(0,r.dy)({event:e,provider:"google"}),i=e=>(0,a.RP)("google_autologin",e),s=e=>(0,a.M3)("google_autologin",e),l=e=>{switch(e.type){case"loadScript":"start"===e.status?(o("start"),o("load_script_start"),s("autoLoginGoogleStart")):"success"===e.status?o("load_script_success"):o("load_script_failure");break;case"apiClient":e.valid?(o("initialize_library"),s("autoLoginGoogleInitEnd")):(i("noAccountFound"),o("global_object_not_found"));break;case"response":e.valid?(o("receive_credential_response_from_provider"),(0,r.EX)({event:"receive_credential_response_from_provider",provider:"google"})):(i("noResponse"),(0,r.EX)({event:"receive_no_credential_response_from_provider",provider:"google"}));break;case"autologin":"start"===e.status?(o("pinterest_login_start"),(0,r.NC)("press_google_one_tap_other"),(0,a.M3)("google_autologin","autoLoginGoogleEnd"),(0,a.PA)("google_autologin")):("success"===e.status?o("pinterest_login_success"):o("pinterest_login_failure"),o("end"));break;case"manualLoginAttempt":(0,r.NC)(e.fromConnectButton?"press_google_one_tap_button":"press_google_one_tap"),(0,a.PA)("google_autologin")}}},154796:function(e,t,n){n.d(t,{Z:()=>o});var a=n(667294),r=n(675973);let o=()=>{let e=(0,r.Z)();return(0,a.useCallback)(()=>{e.flush()},[e])}},68290:function(e,t,n){n.d(t,{Z:()=>a});function a(e){let t=document.createElement("iframe");for(let n in e)t.setAttribute(n,e[n]);return t}},450978:function(e,t,n){n.d(t,{JB:()=>g,LG:()=>d,OJ:()=>s,TF:()=>c,ko:()=>u,qs:()=>l});var a=n(111330),r=n(227427),o=n(785807);let i={NewUsers:{Flashtalking:{Mobile:a.PL,Desktop:a.bB}},Logins:{Flashtalking:{Mobile:a.b_,Desktop:a.pF}}},s=()=>(1e6*Math.random()).toString(),l="pbm_shopping_bespoke",c=(e,t)=>{let n=e=>e.split("").map(e=>e.charCodeAt(0));return n(t).map(t=>n(e).reduce((e,t)=>e^t,t)).map(e=>("0"+Number(e).toString(16)).substr(-2)).join("")},d=(e,t)=>{let n=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate());return Math.floor((Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())-n)/864e5)},u=({eventCategory:e,deviceType:t,country:n,countryFromHostName:a,countryFromIp:s,regionFromIp:l})=>{!("undefined"!=typeof window&&window.navigator&&window.navigator.globalPrivacyControl&&window.navigator.globalPrivacyControl)&&(0,r.$)({country:n,countryFromHostName:a,countryFromIp:s,regionFromIp:l})&&(0,o.jw)({id:i[e].Flashtalking[t],eventCategory:e,eventName:t})};function g(e,t,n,a){(0,r.$)({country:e,countryFromHostName:t,countryFromIp:n,regionFromIp:a})&&(0,o.Kv)({id:"flashtalking-m-ses",eventName:"Mobile"})}},227427:function(e,t,n){function a(e){if(e){let{country:t}=e,{countryFromHostName:n}=e,{countryFromIp:a}=e,{regionFromIp:r}=e,{isBot:o}=e;if(("US"===t||"GB"===t||"US"===n||"GB"===n||"US"===a||"GB"===a)&&"CA"!==r&&(!o||"false"===o))return!0}return!1}function r(e){return 1===e||2===e||3===e||7===e||10===e||34===e||"US"===e||"GB"===e||"CA"===e||"FR"===e||"DE"===e||"BR"===e||!1}n.d(t,{$:()=>a,H:()=>r})},785807:function(e,t,n){n.d(t,{jw:()=>c,Kv:()=>l,Um:()=>i,jO:()=>s});var a=n(462478),r=n(356075),o=n(603316);function i(){(0,a.W)(),(0,a.Z)("PageView",()=>{(0,o.nP)("fb_tracking_pixel",{sampleRate:1,tags:{event_category:"PageView",event_name:"AllViews"}})}),(0,a.Z)("ViewContent",()=>{(0,o.nP)("fb_tracking_pixel",{sampleRate:1,tags:{event_category:"ViewContent",event_name:"AuthViews"}})})}function s(e){if(e){let{pixelBlocked:n}=e;function t(){if(n)return;let e=document.createElement("script");e.src="https://www.googletagmanager.com/gtag/js?id=AW-819016158";let t="gtag-id-1";function a(){window.dataLayer.push(arguments)}e.id=t,e.async=!0,document.getElementById(t)||document.body.insertBefore(e,document.body.firstChild),window.dataLayer=window.dataLayer||[],a("js",new Date),a("config","AW-819016158"),a("event","page_view",{send_to:"AW-819016158"})}"complete"===document.readyState&&t(),window.addEventListener("load",t)}}function l(e){if(e){let{id:t}=e,{eventName:n}=e;t&&n&&(0,r.VC)(t,()=>{(0,o.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:"PageView",event_name:"AllViews"}}),(0,o.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:"PageView",event_name:n}})})}}function c(e){if(!e)return;let{id:t}=e,{eventCategory:n}=e,{eventName:a}=e;t&&n&&a&&(0,r.Rs)(t,n,a,()=>{(0,o.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:n,event_name:"All"}}),"All"!==a&&(0,o.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:n,event_name:a}})})}},79077:function(e,t,n){n.d(t,{Z:()=>i});var a=n(667294),r=n(507282),o=n(941404);function i(){return(0,a.useCallback)(e=>{e.action&&e.event?(0,o.My)("pinner_conversion",{...e,type:e.type||"none",trigger:e.trigger||"other",referrer:(0,r.Z)()}):(0,o.My)("pinner_conversion.missing_tags")},[])}},707353:function(e,t,n){n.d(t,{AA:()=>u,iE:()=>p,yp:()=>m});var a=n(667294),r=n(980787),o=n(729434),i=n(657043),s=n(686319),l=n(15667),c=n(603316),d=n(785893);let u={LOADING:"LOADING",LOADED:"LOADED",ERROR:"ERROR"},g={0:"US_FL_SIGNUP_CONSENT",1:"KR_SIGNUP_CONSENT",2:"IT_SIGNUP_CONSENT"},_=e=>g[e],{Provider:f,useHook:m}=(0,o.Z)("ComplianceManager"),p=({children:e})=>{let t=(0,a.useRef)(!1),{isBot:n}=(0,l.B)(),{logContextEvent:o}=(0,r.u)(),[g,m]=(0,a.useState)({state:u.LOADING}),p=(0,a.useCallback)(async({viewType:e})=>{try{if(n)return void m({state:u.ERROR});let t=performance.now(),a=await (0,s.Z)({url:"/v3/compliance_requirements/",callOptions:{timeout:3e3}});if(a.resource_response.data){let{requirements:n}=a.resource_response.data,r=n.map(e=>_(e)),i=performance.now();e&&o({view_type:e,event_type:16679,aux_data:{time_in_ms:i-t,compliance_requirements:r.toString()}}),m({state:u.LOADED,requirements:n})}}catch(n){let t=(0,i.Z)(n,"message_detail")||(0,i.Z)(n,"message")||"";e&&("timeout"===(0,i.Z)(n,"type")?o({view_type:e,event_type:16681}):o({view_type:e,event_type:16680,aux_data:{status_code:(0,i.Z)(n,"httpStatus")||"-1",api_error_code:(0,i.Z)(n,"api_error_code")||"-1"}})),(0,c.nP)("complianceManager.fetchConfiguration.failure",{sampleRate:1,tags:{errorMessage:t,httpStatus:(0,i.Z)(n,"httpStatus")||"",apiErrorCode:(0,i.Z)(n,"api_error_code")||"",errorCode:(0,i.Z)(n,"code")||"",type:(0,i.Z)(n,"type")}}),m({state:u.ERROR})}},[n,!0,o]),h=(0,a.useCallback)(({requirement:e,viewType:t})=>{t&&o({event_type:16682,view_type:t,aux_data:{feature_key:_(e)}})},[!0,o]),k=(0,a.useCallback)(({requirementEnum:e,viewType:n})=>{switch(g.state===u.LOADING&&!t.current&&(t.current=!0,p({viewType:n})),g.state){case u.LOADED:return g.requirements.includes(e);case u.LOADING:case u.ERROR:default:return h({requirement:e,viewType:n}),!1}},[g,p,h]),y=(0,a.useMemo)(()=>({state:g.state,isRequirementEnabled:k}),[g.state,k]);return(0,d.jsx)(f,{value:y,children:e})}},547362:function(e,t,n){n.d(t,{C:()=>i,O:()=>o});var a=n(111330),r=n(753143);let o=()=>(0,r.M0)().getItem(a.Mi)??"",i=e=>{(0,r.M0)().setItem(a.Mi,e)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/95-74a8e9ae20a3db9f.mjs.map