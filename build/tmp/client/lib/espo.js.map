{"version":3,"file":"espo.js","sources":["../src/namespace.js","../src/loader.js"],"names":["Espo","window","root","this","loader","Error","constructor","_cacheTimestamp","_libsConfig","_loadCallbacks","_pathsBeingLoaded","_dataLoaded","_definedMap","_aliasMap","_contextId","_responseCache","_basePath","_internalModuleList","_transpiledModuleList","_internalModuleMap","_isDeveloperMode","let","baseUrl","location","origin","pathname","slice","includes","lastIndexOf","_baseUrl","_isDeveloperModeIsSet","_basePathIsSet","_responseCacheIsSet","_internalModuleListIsSet","_bundleFileMap","_bundleMapping","_bundleDependenciesMap","_bundlePromiseMap","_addLibsConfigCallCount","_addLibsConfigCallMaxCount","_urlIdMap","setIsDeveloperMode","isDeveloperMode","setBasePath","basePath","getCacheTimestamp","setCacheTimestamp","cacheTimestamp","setResponseCache","responseCache","setInternalModuleList","internalModuleList","setTranspiledModuleList","transpiledModuleList","_get","id","_set","value","libName","libsData","exposeAs","key","_idToPath","mod","namePart","transpiled","internal","indexOf","split","_isModuleInternal","_executeLoadCallback","forEach","callback","define","dependencyIds","_normalizeId","document","currentScript","src","existing","indexOfExports","Array","isArray","map","depId","_normalizeIdPath","require","args","_defineProceed","apply","exports","default","console","warn","errorCallback","list","Object","prototype","toString","call","item","i","totalCount","length","_load","readyCount","loaded","c","push","_convertCamelCaseToHyphen","string","replace","toLowerCase","subjectId","charAt","outputPath","part","dirParts","parts","join","up","_restoreId","exec","arr","modulePart","startsWith","index","_addLoadCallback","dataType","type","path","exportsTo","exportsAs","realName","isDefinedLib","libData","devPath","error","obj","_fetchObject","restoredId","bundleName","_requireBundle","then","msg","dto","useCache","sep","url","urlObj","URL","fullUrl","searchParams","append","Date","now","_addScript","undefined","match","Request","response","text","_handleResponseText","_processRequest","script","createElement","async","addEventListener","e","head","appendChild","name","dependencies","Promise","resolve","substring","requirePromise","all","_addBundle","event","from","fetch","ok","put","Response","catch","addLibsConfig","data","setAliasMap","moduleName","mapBundleFile","file","mapBundleDependencies","addBundleMapping","mapping","assign","setContextId","reject","arg","context","bind","arg1","arg2","arg3","depIds","amd","loaderParamsTag","querySelector","params","JSON","parse","textContent","libsConfig","aliasMap"],"mappings":"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"}