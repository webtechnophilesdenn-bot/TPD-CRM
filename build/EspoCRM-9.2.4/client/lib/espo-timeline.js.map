{"version":3,"file":"espo-timeline.js","sources":["original/espo-timeline.js"],"names":["define","_exports","_view","_visData","_visTimeline","_moment","_jquery","Object","defineProperty","value","default","_interopRequireDefault","e","__esModule","SchedulerView","templateContent","rangeMarginThreshold","leftMargin","rightMargin","rangeMultiplierLeft","rangeMultiplierRight","setup","this","startField","options","endField","assignedUserField","startDateField","endDateField","colors","Espo","Utils","clone","getMetadata","get","getHelper","themeManager","getParam","let","usersFieldDefault","model","hasLink","eventAssignedUserIsAttendeeDisabled","getConfig","usersField","userIdList","listenTo","m","isChanged","hasChanged","isRemoved","trigger","reRender","initDates","start","end","length","timeline","updateEvent","setWindow","toDate","noDataShown","showNoData","once","destroyTimeline","destroy","$timeline","empty","append","addClass","text","translate","afterRender","$el","find","initGroupsDataSet","innerHTML","lastHeight","css","fetch","eventList","itemsDataSet","DataSet","Timeline","groupsDataSet","dataAttributes","rollingMode","follow","moment","date","noTimeZone","tz","getDateTime","getTimeZone","xss","filterOptions","onTag","tag","html","format","getFormatObject","zoomable","moveable","orientation","groupEditable","editable","add","updateTime","updateGroup","remove","showCurrentTime","locales","myLocale","current","time","locale","margin","item","vertical","axis","on","skipClick","blockClick","setTimeout","bind","updateRange","height","cloneDeep","busyEventList","convertedEventList","convertEventList","addEvent","setItems","unix","fetchedStart","fetchedEnd","runFetch","update","startS","endS","eventStart","eventEnd","utc","diff","startOf","endOf","from","to","callback","fromString","internalDateTimeFormat","toString","url","encodeURIComponent","join","entityType","id","Ajax","getRequest","then","data","userId","itemList","filter","isBusyRange","concat","forEach","push","list","getCurrentItemList","o","type","style","className","color","getColorFromScopeName","rgb","hexToRgb","r","g","b","c","group","resultList","event","convertEvent","date-start","dateStart","date-end","dateEnd","isWorkingRange","isNonWorkingRange","dateStartDate","toMoment","dateEndDate","assignedUserId","names","indexOf","unshift","i","content","getGroupContent","order","name","calendarType","outerHTML","avatarHtml","getAvatarHtml","attr","t","cache","getCache","Date","now","getBasePath","minorLabels","millisecond","second","minute","getTimeFormat","hour","weekday","day","month","year","majorLabels","getReadableDateFormat","scope","hex","result","exec","parseInt","_recordModal","_sharedOptions","TimelineView","template","eventAttributes","allDayScopeList","scopeList","enabledScopeList","onlyDateScopeList","header","modeList","defaultMode","maxRange","calendarTypeList","zoomPercentage","events","click button[data-action=\"today\"]","actionToday","click [data-action=\"mode\"]","mode","currentTarget","selectMode","click [data-action=\"refresh\"]","actionRefresh","click [data-action=\"toggleScopeFilter\"]","$target","filterName","$check","hasClass","removeClass","stopPropagation","toggleScopeFilter","click [data-action=\"toggleCalendarType\"]","parent","closest","getCalendarTypeLabel","$showSharedCalendarOptions","selectCalendarType","click button[data-action=\"showSharedCalendarOptions\"]","actionShowSharedCalendarOptions","constructor","super","calendarTypeDataList","getCalendarTypeDataList","calendarTypeSelectEnabled","calendarTypeLabel","isCustomViewAvailable","getToday","$container","includes","getAcl","getPermissionLevel","check","getStoredEnabledScopeList","prototype","call","getStorage","createView","selector","getModeButtonsView","getView","disabled","label","userName","getUser","escapeString","initUserList","setGroups","set","index","splice","storeEnabledScopeList","getTitle","title","userList","record-id","status","fillColor","handleStatus","getEventTypeCompletedStatusList","getEventTypeCanceledStatusList","key","shadeColor","percent","getThemeManager","alpha","substring","f","slice","p","R","G","B","Math","round","containerSelector","fetchEvents","zoomMax","zoomMin","$item","viewEvent","what","createEvent","triggerView","getWindow","attributes","assignedUserName","it","view","Ui","notifyWait","await","onSave","render","notify","helper","modalView","showDetail","removeDisabled","beforeSave","beforeDestroy","afterSave","bypassClose","close","afterDestroy","internalDateFormat","getSharedCalenderUserList","storeUserList","getPreferences","save","sharedCalendarUserList","patch","isBad","user","suppressLoadingAlert","map","userEventList","users","onApply","assignView","iconEl","element","querySelector","classList","additionalColorList","j","actionPrevious","moveTo","actionNext","actionZoomOut","zoomOut","actionZoomIn","zoomIn"],"mappings":"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"}